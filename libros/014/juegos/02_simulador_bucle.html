<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador del Bucle - El Poder de los H√°bitos</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        .header {
            background: linear-gradient(135deg, #005BAA, #0077CC);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        .content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: white;
        }
        h2 {
            color: #0077CC;
            margin-top: 30px;
        }
        .simulator {
            background-color: #e7f3ff;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #005BAA;
            margin: 20px 0;
        }
        .loop-display {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            border: 2px solid #dee2e6;
        }
        .loop-step {
            display: inline-block;
            background-color: #005BAA;
            color: white;
            padding: 15px 20px;
            border-radius: 50px;
            margin: 10px;
            font-weight: bold;
            min-width: 120px;
        }
        .arrow {
            font-size: 24px;
            color: #005BAA;
            margin: 0 10px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }
        .form-group select, .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        .btn {
            background-color: #005BAA;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            margin: 10px 5px;
            transition: background-color 0.3s;
        }
        .btn:hover {
            background-color: #004080;
        }
        .btn-secondary {
            background-color: #6c757d;
        }
        .btn-secondary:hover {
            background-color: #545b62;
        }
        .results {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            display: none;
        }
        .scenario-box {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .tips {
            background-color: #e7f3ff;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .tips h4 {
            color: #005BAA;
            margin-top: 0;
        }
        .example-box {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .example-box h4 {
            color: #005BAA;
            margin-top: 0;
        }
        .strength-meter {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .strength-bar {
            width: 100%;
            height: 20px;
            background-color: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .strength-fill {
            height: 100%;
            background: linear-gradient(90deg, #dc3545, #ffc107, #28a745);
            transition: width 0.5s ease;
        }
        .strength-label {
            text-align: center;
            font-weight: bold;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üîÑ Simulador del Bucle</h1>
        <p>Experimenta con se√±ales, rutinas y recompensas para entender c√≥mo se forman los h√°bitos</p>
    </div>

    <div class="content">
        <h2>üéØ ¬øQu√© es este simulador?</h2>
        <p>Este simulador te permite experimentar con diferentes combinaciones de se√±ales, rutinas y recompensas para entender c√≥mo se forman y fortalecen los h√°bitos. Podr√°s ver c√≥mo diferentes elementos afectan la probabilidad de que un h√°bito se establezca.</p>

        <div class="loop-display">
            <h3>El Bucle del H√°bito</h3>
            <div class="loop-step" id="signalStep">Se√±al</div>
            <span class="arrow">‚Üí</span>
            <div class="loop-step" id="routineStep">Rutina</div>
            <span class="arrow">‚Üí</span>
            <div class="loop-step" id="rewardStep">Recompensa</div>
            <span class="arrow">‚Üª</span>
        </div>

        <div class="tips">
            <h4>üí° C√≥mo usar el simulador</h4>
            <ul>
                <li><strong>Selecciona una se√±al:</strong> El detonante que activa el h√°bito</li>
                <li><strong>Elige una rutina:</strong> La acci√≥n que se ejecuta</li>
                <li><strong>Define la recompensa:</strong> La satisfacci√≥n que obtienes</li>
                <li><strong>Observa el resultado:</strong> Ve c√≥mo se fortalece el h√°bito</li>
            </ul>
        </div>

        <div class="simulator">
            <h3>üîß Configura Tu Bucle</h3>
            <form id="loopForm">
                <div class="form-group">
                    <label for="signal">Se√±al (¬øQu√© desencadena el h√°bito?)</label>
                    <select id="signal" name="signal" required>
                        <option value="">Selecciona una se√±al</option>
                        <option value="hora">Hora espec√≠fica del d√≠a</option>
                        <option value="lugar">Lugar espec√≠fico</option>
                        <option value="emotion">Estado emocional</option>
                        <option value="other-person">Presencia de otra persona</option>
                        <option value="action">Acci√≥n previa</option>
                        <option value="thought">Pensamiento espec√≠fico</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="routine">Rutina (¬øQu√© acci√≥n realizas?)</label>
                    <select id="routine" name="routine" required>
                        <option value="">Selecciona una rutina</option>
                        <option value="exercise">Hacer ejercicio</option>
                        <option value="eat">Comer algo</option>
                        <option value="smoke">Fumar</option>
                        <option value="phone">Usar el tel√©fono</option>
                        <option value="read">Leer</option>
                        <option value="meditate">Meditar</option>
                        <option value="work">Trabajar</option>
                        <option value="socialize">Socializar</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="reward">Recompensa (¬øQu√© satisfacci√≥n obtienes?)</label>
                    <select id="reward" name="reward" required>
                        <option value="">Selecciona una recompensa</option>
                        <option value="pleasure">Placer f√≠sico</option>
                        <option value="relief">Alivio del estr√©s</option>
                        <option value="energy">Energ√≠a</option>
                        <option value="connection">Conexi√≥n social</option>
                        <option value="achievement">Sensaci√≥n de logro</option>
                        <option value="escape">Escape de la realidad</option>
                        <option value="knowledge">Conocimiento</option>
                        <option value="relaxation">Relajaci√≥n</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="frequency">Frecuencia (¬øCon qu√© frecuencia ocurre?)</label>
                    <select id="frequency" name="frequency" required>
                        <option value="">Selecciona la frecuencia</option>
                        <option value="multiple-daily">Varias veces al d√≠a</option>
                        <option value="daily">Diario</option>
                        <option value="weekly">Semanal</option>
                        <option value="occasional">Ocasional</option>
                    </select>
                </div>

                <button type="submit" class="btn">Simular Bucle</button>
                <button type="button" class="btn btn-secondary" onclick="resetSimulator()">Reiniciar</button>
            </form>
        </div>

        <div class="results" id="results">
            <h3>üìä Resultados de la Simulaci√≥n</h3>
            <div id="simulationContent"></div>
        </div>

        <div class="example-box">
            <h4>üìù Ejemplos de Bucles Efectivos</h4>
            
            <div class="scenario-box">
                <h5>üèÉ‚Äç‚ôÇÔ∏è H√°bito de Ejercicio</h5>
                <p><strong>Se√±al:</strong> Ver las zapatillas deportivas</p>
                <p><strong>Rutina:</strong> Salir a correr</p>
                <p><strong>Recompensa:</strong> Endorfinas y sensaci√≥n de logro</p>
                <p><strong>Fuerza del h√°bito:</strong> Muy fuerte</p>
            </div>

            <div class="scenario-box">
                <h5>üìö H√°bito de Lectura</h5>
                <p><strong>Se√±al:</strong> Hora de dormir</p>
                <p><strong>Rutina:</strong> Leer 10 p√°ginas</p>
                <p><strong>Recompensa:</strong> Relajaci√≥n y conocimiento</p>
                <p><strong>Fuerza del h√°bito:</strong> Moderada</p>
            </div>

            <div class="scenario-box">
                <h5>üö¨ H√°bito de Fumar</h5>
                <p><strong>Se√±al:</strong> Estr√©s en el trabajo</p>
                <p><strong>Rutina:</strong> Fumar un cigarrillo</p>
                <p><strong>Recompensa:</strong> Alivio temporal del estr√©s</p>
                <p><strong>Fuerza del h√°bito:</strong> Muy fuerte (adicci√≥n)</p>
            </div>
        </div>

        <div class="tips">
            <h4>üî¨ Factores que Afectan la Fuerza del H√°bito</h4>
            <ul>
                <li><strong>Claridad de la se√±al:</strong> Cuanto m√°s espec√≠fica, m√°s fuerte el h√°bito</li>
                <li><strong>Inmediatez de la recompensa:</strong> Las recompensas inmediatas crean h√°bitos m√°s fuertes</li>
                <li><strong>Frecuencia:</strong> M√°s repetici√≥n = h√°bito m√°s fuerte</li>
                <li><strong>Consistencia:</strong> Rutinas regulares se establecen m√°s f√°cilmente</li>
                <li><strong>Intensidad de la recompensa:</strong> Recompensas m√°s satisfactorias fortalecen el h√°bito</li>
            </ul>
        </div>
    </div>

    <script>
        // Datos de configuraci√≥n para el simulador
        const signalData = {
            'hora': { name: 'Hora espec√≠fica del d√≠a', strength: 8 },
            'lugar': { name: 'Lugar espec√≠fico', strength: 9 },
            'emotion': { name: 'Estado emocional', strength: 7 },
            'other-person': { name: 'Presencia de otra persona', strength: 6 },
            'action': { name: 'Acci√≥n previa', strength: 8 },
            'thought': { name: 'Pensamiento espec√≠fico', strength: 5 }
        };

        const routineData = {
            'exercise': { name: 'Hacer ejercicio', strength: 7 },
            'eat': { name: 'Comer algo', strength: 9 },
            'smoke': { name: 'Fumar', strength: 10 },
            'phone': { name: 'Usar el tel√©fono', strength: 8 },
            'read': { name: 'Leer', strength: 6 },
            'meditate': { name: 'Meditar', strength: 5 },
            'work': { name: 'Trabajar', strength: 7 },
            'socialize': { name: 'Socializar', strength: 8 }
        };

        const rewardData = {
            'pleasure': { name: 'Placer f√≠sico', strength: 9 },
            'relief': { name: 'Alivio del estr√©s', strength: 8 },
            'energy': { name: 'Energ√≠a', strength: 7 },
            'connection': { name: 'Conexi√≥n social', strength: 8 },
            'achievement': { name: 'Sensaci√≥n de logro', strength: 7 },
            'escape': { name: 'Escape de la realidad', strength: 6 },
            'knowledge': { name: 'Conocimiento', strength: 6 },
            'relaxation': { name: 'Relajaci√≥n', strength: 7 }
        };

        const frequencyData = {
            'multiple-daily': { name: 'Varias veces al d√≠a', multiplier: 1.5 },
            'daily': { name: 'Diario', multiplier: 1.0 },
            'weekly': { name: 'Semanal', multiplier: 0.5 },
            'occasional': { name: 'Ocasional', multiplier: 0.3 }
        };

        document.getElementById('loopForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const signal = document.getElementById('signal').value;
            const routine = document.getElementById('routine').value;
            const reward = document.getElementById('reward').value;
            const frequency = document.getElementById('frequency').value;

            if (!signal || !routine || !reward || !frequency) {
                alert('Por favor completa todos los campos');
                return;
            }

            // Calcular la fuerza del h√°bito
            const signalStrength = signalData[signal].strength;
            const routineStrength = routineData[routine].strength;
            const rewardStrength = rewardData[reward].strength;
            const frequencyMultiplier = frequencyData[frequency].multiplier;

            const totalStrength = Math.round((signalStrength + routineStrength + rewardStrength) * frequencyMultiplier / 3);
            const maxStrength = 10;

            // Generar an√°lisis
            const analysis = generateAnalysis(signal, routine, reward, frequency, totalStrength, maxStrength);
            
            // Mostrar resultados
            document.getElementById('simulationContent').innerHTML = analysis;
            document.getElementById('results').style.display = 'block';
            
            // Actualizar visualizaci√≥n del bucle
            updateLoopDisplay(signal, routine, reward);
            
            // Hacer scroll a los resultados
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        });

        function generateAnalysis(signal, routine, reward, frequency, strength, maxStrength) {
            const signalInfo = signalData[signal];
            const routineInfo = routineData[routine];
            const rewardInfo = rewardData[reward];
            const frequencyInfo = frequencyData[frequency];

            let strengthCategory = '';
            let strengthColor = '';
            let advice = '';

            if (strength >= 8) {
                strengthCategory = 'Muy Fuerte';
                strengthColor = '#28a745';
                advice = 'Este h√°bito se establecer√° r√°pidamente y ser√° dif√≠cil de romper. Considera si es el h√°bito que realmente quieres.';
            } else if (strength >= 6) {
                strengthCategory = 'Fuerte';
                strengthColor = '#ffc107';
                advice = 'Este h√°bito se establecer√° bien con consistencia. Es un buen punto de partida.';
            } else if (strength >= 4) {
                strengthCategory = 'Moderado';
                strengthColor = '#fd7e14';
                advice = 'Este h√°bito requerir√° m√°s esfuerzo para establecerse. Considera fortalecer la se√±al o la recompensa.';
            } else {
                strengthCategory = 'D√©bil';
                strengthColor = '#dc3545';
                advice = 'Este h√°bito ser√° dif√≠cil de establecer. Considera cambiar la se√±al, rutina o recompensa.';
            }

            return `
                <div class="example-box">
                    <h4>üîÑ Tu Bucle de H√°bito</h4>
                    <p><strong>Se√±al:</strong> ${signalInfo.name} (Fuerza: ${signalInfo.strength}/10)</p>
                    <p><strong>Rutina:</strong> ${routineInfo.name} (Fuerza: ${routineInfo.strength}/10)</p>
                    <p><strong>Recompensa:</strong> ${rewardInfo.name} (Fuerza: ${rewardInfo.strength}/10)</p>
                    <p><strong>Frecuencia:</strong> ${frequencyInfo.name}</p>
                </div>

                <div class="strength-meter">
                    <h4>üí™ Fuerza del H√°bito</h4>
                    <div class="strength-bar">
                        <div class="strength-fill" style="width: ${(strength/maxStrength)*100}%; background-color: ${strengthColor};"></div>
                    </div>
                    <div class="strength-label">${strengthCategory} (${strength}/10)</div>
                </div>

                <div class="tips">
                    <h4>üí° An√°lisis y Recomendaciones</h4>
                    <p><strong>${advice}</strong></p>
                    <ul>
                        <li><strong>Se√±al:</strong> ${getSignalAdvice(signal)}</li>
                        <li><strong>Rutina:</strong> ${getRoutineAdvice(routine)}</li>
                        <li><strong>Recompensa:</strong> ${getRewardAdvice(reward)}</li>
                        <li><strong>Frecuencia:</strong> ${getFrequencyAdvice(frequency)}</li>
                    </ul>
                </div>
            `;
        }

        function getSignalAdvice(signal) {
            const advice = {
                'hora': 'Las se√±ales temporales son muy efectivas. Considera usar alarmas o recordatorios.',
                'lugar': 'Las se√±ales ambientales son poderosas. Organiza tu espacio para facilitar el h√°bito.',
                'emotion': 'Las se√±ales emocionales pueden ser inestables. Considera combinarlas con se√±ales m√°s espec√≠ficas.',
                'other-person': 'Las se√±ales sociales son efectivas pero dependen de otros. Ten un plan B.',
                'action': 'Las se√±ales de acci√≥n son excelentes. Crea una cadena de h√°bitos.',
                'thought': 'Las se√±ales mentales son dif√≠ciles de controlar. Busca se√±ales m√°s tangibles.'
            };
            return advice[signal] || '';
        }

        function getRoutineAdvice(routine) {
            const advice = {
                'exercise': 'El ejercicio libera endorfinas naturales. Es una excelente rutina para h√°bitos positivos.',
                'eat': 'La alimentaci√≥n es una necesidad b√°sica. Aseg√∫rate de que sea saludable.',
                'smoke': 'Fumar es altamente adictivo. Considera alternativas m√°s saludables.',
                'phone': 'El uso del tel√©fono puede ser adictivo. Establece l√≠mites de tiempo.',
                'read': 'La lectura es un h√°bito excelente. Comienza con pocas p√°ginas.',
                'meditate': 'La meditaci√≥n requiere pr√°ctica. Comienza con sesiones cortas.',
                'work': 'El trabajo puede ser estresante. Aseg√∫rate de tener recompensas adecuadas.',
                'socialize': 'La socializaci√≥n es importante. Busca interacciones significativas.'
            };
            return advice[routine] || '';
        }

        function getRewardAdvice(reward) {
            const advice = {
                'pleasure': 'Las recompensas f√≠sicas son muy efectivas. Aseg√∫rate de que sean saludables.',
                'relief': 'El alivio del estr√©s es poderoso. Considera alternativas saludables.',
                'energy': 'La energ√≠a es una recompensa natural. El ejercicio es excelente para esto.',
                'connection': 'La conexi√≥n social es fundamental. Busca interacciones aut√©nticas.',
                'achievement': 'La sensaci√≥n de logro es motivadora. Establece metas peque√±as.',
                'escape': 'El escape puede ser problem√°tico. Busca formas constructivas de relajarte.',
                'knowledge': 'El conocimiento es una recompensa duradera. Es excelente para el crecimiento.',
                'relaxation': 'La relajaci√≥n es importante. Encuentra m√©todos saludables.'
            };
            return advice[reward] || '';
        }

        function getFrequencyAdvice(frequency) {
            const advice = {
                'multiple-daily': 'La alta frecuencia acelera la formaci√≥n del h√°bito. Aseg√∫rate de que sea positivo.',
                'daily': 'La frecuencia diaria es ideal para establecer h√°bitos s√≥lidos.',
                'weekly': 'La frecuencia semanal requiere m√°s tiempo para establecerse. S√© paciente.',
                'occasional': 'La frecuencia ocasional hace dif√≠cil establecer el h√°bito. Considera aumentar la frecuencia.'
            };
            return advice[frequency] || '';
        }

        function updateLoopDisplay(signal, routine, reward) {
            document.getElementById('signalStep').textContent = signalData[signal].name;
            document.getElementById('routineStep').textContent = routineData[routine].name;
            document.getElementById('rewardStep').textContent = rewardData[reward].name;
        }

        function resetSimulator() {
            document.getElementById('loopForm').reset();
            document.getElementById('results').style.display = 'none';
            document.getElementById('signalStep').textContent = 'Se√±al';
            document.getElementById('routineStep').textContent = 'Rutina';
            document.getElementById('rewardStep').textContent = 'Recompensa';
        }
    </script>
</body>
</html> 