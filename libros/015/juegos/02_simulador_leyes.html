<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de las 4 Leyes - H√°bitos At√≥micos</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        .header {
            background: linear-gradient(135deg, #005BAA, #0077CC);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        .content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: white;
        }
        h2 {
            color: #0077CC;
            margin-top: 30px;
        }
        .simulator-section {
            background-color: #e7f3ff;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #005BAA;
            margin: 20px 0;
        }
        .law-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .law-card {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #005BAA;
            transition: transform 0.3s;
        }
        .law-card:hover {
            transform: translateY(-5px);
        }
        .law-card h3 {
            color: #005BAA;
            margin-top: 0;
            text-align: center;
        }
        .law-card.active {
            border-color: #28a745;
            background-color: #d4edda;
        }
        .habit-selector {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .habit-selector select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
            margin: 10px 0;
        }
        .strategy-list {
            list-style: none;
            padding: 0;
        }
        .strategy-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        .strategy-list li:last-child {
            border-bottom: none;
        }
        .btn {
            background-color: #005BAA;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            margin: 10px 5px;
            transition: background-color 0.3s;
        }
        .btn:hover {
            background-color: #004080;
        }
        .btn.secondary {
            background-color: #6c757d;
        }
        .btn.secondary:hover {
            background-color: #545b62;
        }
        .results {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            display: none;
        }
        .progress-indicator {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
        }
        .progress-bar {
            flex-grow: 1;
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            margin: 0 10px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background-color: #28a745;
            transition: width 0.3s ease;
        }
        .scenario {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .scenario h4 {
            color: #856404;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>‚ö° Simulador de las 4 Leyes</h1>
        <p>Experimenta c√≥mo las 4 leyes del cambio de comportamiento afectan tus h√°bitos</p>
    </div>

    <div class="content">
        <div class="simulator-section">
            <h3>üéØ Instrucciones</h3>
            <p>Este simulador te permite experimentar con las 4 leyes del cambio de comportamiento. Selecciona un h√°bito y luego aplica las diferentes leyes para ver c√≥mo afectan la probabilidad de √©xito del h√°bito.</p>
        </div>

        <div class="habit-selector">
            <h3>üìã Selecciona un H√°bito</h3>
            <select id="habit-select">
                <option value="">-- Selecciona un h√°bito --</option>
                <option value="exercise">Hacer ejercicio diariamente</option>
                <option value="reading">Leer 30 minutos al d√≠a</option>
                <option value="meditation">Meditar 10 minutos</option>
                <option value="healthy-eating">Comer m√°s saludable</option>
                <option value="writing">Escribir 500 palabras</option>
                <option value="water">Beber 8 vasos de agua</option>
                <option value="sleep">Dormir 8 horas</option>
                <option value="custom">H√°bito personalizado</option>
            </select>
            
            <div id="custom-habit" style="display: none;">
                <input type="text" id="custom-habit-input" placeholder="Describe tu h√°bito personalizado" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
            </div>
        </div>

        <div class="law-grid">
            <div class="law-card" id="law1-card">
                <h3>üëÅÔ∏è Ley 1: Hacerlo Obvio</h3>
                <p><strong>Objetivo:</strong> Hacer que las se√±ales del h√°bito sean m√°s visibles</p>
                <ul class="strategy-list">
                    <li>‚úÖ Implementaci√≥n de intenciones</li>
                    <li>‚úÖ Stacking de h√°bitos</li>
                    <li>‚úÖ Dise√±o del entorno</li>
                    <li>‚úÖ Recordatorios visuales</li>
                </ul>
                <div class="progress-indicator">
                    <span>Probabilidad:</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="law1-progress" style="width: 20%;"></div>
                    </div>
                    <span id="law1-percentage">20%</span>
                </div>
                <button class="btn" onclick="applyLaw(1)">Aplicar Ley 1</button>
            </div>

            <div class="law-card" id="law2-card">
                <h3>üí° Ley 2: Hacerlo Atractivo</h3>
                <p><strong>Objetivo:</strong> Hacer que el h√°bito sea m√°s deseable</p>
                <ul class="strategy-list">
                    <li>‚úÖ Stacking de tentaci√≥n</li>
                    <li>‚úÖ Recompensas inmediatas</li>
                    <li>‚úÖ Aprobaci√≥n social</li>
                    <li>‚úÖ Rituales atractivos</li>
                </ul>
                <div class="progress-indicator">
                    <span>Probabilidad:</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="law2-progress" style="width: 20%;"></div>
                    </div>
                    <span id="law2-percentage">20%</span>
                </div>
                <button class="btn" onclick="applyLaw(2)">Aplicar Ley 2</button>
            </div>

            <div class="law-card" id="law3-card">
                <h3>‚ö° Ley 3: Hacerlo F√°cil</h3>
                <p><strong>Objetivo:</strong> Reducir la fricci√≥n del h√°bito</p>
                <ul class="strategy-list">
                    <li>‚úÖ Regla de los 2 minutos</li>
                    <li>‚úÖ Preparaci√≥n del entorno</li>
                    <li>‚úÖ Automatizaci√≥n</li>
                    <li>‚úÖ Reducci√≥n de fricci√≥n</li>
                </ul>
                <div class="progress-indicator">
                    <span>Probabilidad:</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="law3-progress" style="width: 20%;"></div>
                    </div>
                    <span id="law3-percentage">20%</span>
                </div>
                <button class="btn" onclick="applyLaw(3)">Aplicar Ley 3</button>
            </div>

            <div class="law-card" id="law4-card">
                <h3>üéØ Ley 4: Hacerlo Satisfactorio</h3>
                <p><strong>Objetivo:</strong> Crear satisfacci√≥n inmediata</p>
                <ul class="strategy-list">
                    <li>‚úÖ Seguimiento visual</li>
                    <li>‚úÖ Recompensas inmediatas</li>
                    <li>‚úÖ Celebraci√≥n de logros</li>
                    <li>‚úÖ Alineaci√≥n con identidad</li>
                </ul>
                <div class="progress-indicator">
                    <span>Probabilidad:</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="law4-progress" style="width: 20%;"></div>
                    </div>
                    <span id="law4-percentage">20%</span>
                </div>
                <button class="btn" onclick="applyLaw(4)">Aplicar Ley 4</button>
            </div>
        </div>

        <div style="text-align: center; margin: 30px 0;">
            <button class="btn" onclick="calculateFinalProbability()">üìä Calcular Probabilidad Final</button>
            <button class="btn secondary" onclick="resetSimulator()">üîÑ Reiniciar Simulador</button>
        </div>

        <div id="results" class="results">
            <h2>üìä Resultados del Simulador</h2>
            <div id="final-probability"></div>
            <div id="scenarios"></div>
            <div id="recommendations"></div>
        </div>

        <div class="simulator-section">
            <h3>üí° Consejos para el Simulador</h3>
            <ul>
                <li><strong>Comienza con una ley:</strong> Aplica una ley a la vez para ver su impacto individual</li>
                <li><strong>Combina leyes:</strong> Las leyes funcionan mejor cuando se combinan</li>
                <li><strong>Experimenta:</strong> Prueba diferentes combinaciones para encontrar la m√°s efectiva</li>
                <li><strong>Aplica en la vida real:</strong> Usa estas estrategias con tus h√°bitos reales</li>
            </ul>
        </div>
    </div>

    <script>
        let appliedLaws = [];
        let habitSelected = '';

        document.getElementById('habit-select').addEventListener('change', function() {
            habitSelected = this.value;
            if (this.value === 'custom') {
                document.getElementById('custom-habit').style.display = 'block';
            } else {
                document.getElementById('custom-habit').style.display = 'none';
            }
        });

        function applyLaw(lawNumber) {
            if (!habitSelected) {
                alert('Por favor selecciona un h√°bito primero.');
                return;
            }

            if (appliedLaws.includes(lawNumber)) {
                alert('Esta ley ya ha sido aplicada.');
                return;
            }

            appliedLaws.push(lawNumber);
            document.getElementById(`law${lawNumber}-card`).classList.add('active');
            
            // Increase probability for this law
            const currentProgress = document.getElementById(`law${lawNumber}-progress`);
            const currentPercentage = document.getElementById(`law${lawNumber}-percentage`);
            const newWidth = Math.min(100, parseInt(currentProgress.style.width) + 25);
            
            currentProgress.style.width = newWidth + '%';
            currentPercentage.textContent = newWidth + '%';
        }

        function calculateFinalProbability() {
            if (appliedLaws.length === 0) {
                alert('Aplica al menos una ley antes de calcular la probabilidad final.');
                return;
            }

            const baseProbability = 20;
            const lawBonus = appliedLaws.length * 15;
            const synergyBonus = appliedLaws.length >= 3 ? 10 : 0;
            const finalProbability = Math.min(95, baseProbability + lawBonus + synergyBonus);

            const habitName = habitSelected === 'custom' ? 
                document.getElementById('custom-habit-input').value || 'tu h√°bito personalizado' : 
                getHabitName(habitSelected);

            document.getElementById('final-probability').innerHTML = `
                <h3>üéØ Probabilidad de √âxito para: ${habitName}</h3>
                <div style="font-size: 2em; color: #005BAA; margin: 20px 0;">${finalProbability}%</div>
                <p><strong>Leyes aplicadas:</strong> ${appliedLaws.map(l => `Ley ${l}`).join(', ')}</p>
            `;

            generateScenarios(finalProbability, appliedLaws);
            generateRecommendations(appliedLaws);

            document.getElementById('results').style.display = 'block';
        }

        function getHabitName(habitValue) {
            const habitNames = {
                'exercise': 'Hacer ejercicio diariamente',
                'reading': 'Leer 30 minutos al d√≠a',
                'meditation': 'Meditar 10 minutos',
                'healthy-eating': 'Comer m√°s saludable',
                'writing': 'Escribir 500 palabras',
                'water': 'Beber 8 vasos de agua',
                'sleep': 'Dormir 8 horas'
            };
            return habitNames[habitValue] || habitValue;
        }

        function generateScenarios(probability, laws) {
            let scenarios = '<h3>üìà Escenarios Posibles</h3>';
            
            if (probability >= 80) {
                scenarios += `
                    <div class="scenario">
                        <h4>üåü Escenario √ìptimo</h4>
                        <p>Con ${probability}% de probabilidad, es muy probable que mantengas este h√°bito a largo plazo. Las leyes aplicadas crean un sistema s√≥lido.</p>
                    </div>
                `;
            } else if (probability >= 60) {
                scenarios += `
                    <div class="scenario">
                        <h4>‚úÖ Escenario Favorable</h4>
                        <p>Con ${probability}% de probabilidad, tienes buenas posibilidades de √©xito. Considera aplicar m√°s leyes para mejorar.</p>
                    </div>
                `;
            } else {
                scenarios += `
                    <div class="scenario">
                        <h4>‚ö†Ô∏è Escenario de Riesgo</h4>
                        <p>Con ${probability}% de probabilidad, el h√°bito puede ser dif√≠cil de mantener. Aplica m√°s leyes para aumentar las posibilidades.</p>
                    </div>
                `;
            }

            document.getElementById('scenarios').innerHTML = scenarios;
        }

        function generateRecommendations(laws) {
            let recommendations = '<h3>üí° Recomendaciones</h3><ul>';
            
            if (!laws.includes(1)) {
                recommendations += '<li><strong>Ley 1:</strong> Haz el h√°bito m√°s obvio usando recordatorios visuales y dise√±o del entorno.</li>';
            }
            if (!laws.includes(2)) {
                recommendations += '<li><strong>Ley 2:</strong> Haz el h√°bito m√°s atractivo usando stacking de tentaci√≥n y recompensas.</li>';
            }
            if (!laws.includes(3)) {
                recommendations += '<li><strong>Ley 3:</strong> Haz el h√°bito m√°s f√°cil usando la regla de los 2 minutos.</li>';
            }
            if (!laws.includes(4)) {
                recommendations += '<li><strong>Ley 4:</strong> Haz el h√°bito m√°s satisfactorio con seguimiento visual.</li>';
            }

            if (laws.length >= 3) {
                recommendations += '<li><strong>¬°Excelente!</strong> Has aplicado m√∫ltiples leyes. Mant√©n la consistencia.</li>';
            }

            recommendations += '</ul>';
            document.getElementById('recommendations').innerHTML = recommendations;
        }

        function resetSimulator() {
            appliedLaws = [];
            habitSelected = '';
            
            // Reset all cards
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`law${i}-card`).classList.remove('active');
                document.getElementById(`law${i}-progress`).style.width = '20%';
                document.getElementById(`law${i}-percentage`).textContent = '20%';
            }
            
            // Reset form
            document.getElementById('habit-select').value = '';
            document.getElementById('custom-habit').style.display = 'none';
            document.getElementById('custom-habit-input').value = '';
            
            // Hide results
            document.getElementById('results').style.display = 'none';
        }
    </script>
</body>
</html> 