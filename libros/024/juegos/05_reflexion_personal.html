<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reflexi√≥n Personal - David y Goliat</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            color: white;
            border-radius: 10px;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        .game-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .reflection-intro {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #6c5ce7;
        }
        .reflection-intro h3 {
            color: #6c5ce7;
            margin-top: 0;
        }
        .reflection-module {
            background: #fff3e0;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid #ff9800;
            display: none;
        }
        .reflection-module h3 {
            color: #e65100;
            margin-top: 0;
        }
        .reflection-question {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #ff9800;
        }
        .reflection-question h4 {
            color: #e65100;
            margin-top: 0;
        }
        .question-input {
            background: #f8f9fa;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
            border: 2px solid #e9ecef;
        }
        .question-input label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }
        .question-input textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 1em;
            resize: vertical;
            min-height: 100px;
            transition: border-color 0.3s;
        }
        .question-input textarea:focus {
            outline: none;
            border-color: #ff9800;
        }
        .question-input select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 1em;
            transition: border-color 0.3s;
        }
        .question-input select:focus {
            outline: none;
            border-color: #ff9800;
        }
        .question-input input[type="range"] {
            width: 100%;
            margin: 10px 0;
        }
        .range-value {
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            color: #ff9800;
            margin: 10px 0;
        }
        .reflection-summary {
            background: #e8f5e8;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #4caf50;
            display: none;
        }
        .reflection-summary h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        .summary-section {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 6px;
            border-left: 3px solid #4caf50;
        }
        .summary-section h4 {
            color: #2e7d32;
            margin-top: 0;
        }
        .insight-card {
            background: #f3e5f5;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border: 2px solid #9c27b0;
        }
        .insight-card h4 {
            color: #7b1fa2;
            margin-top: 0;
        }
        .action-plan {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #2196f3;
        }
        .action-plan h4 {
            color: #1976d2;
            margin-top: 0;
        }
        .action-item {
            background: white;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
            border-left: 3px solid #2196f3;
        }
        .action-item .action-number {
            background: #2196f3;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        .progress-tracker {
            background: #fff3e0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid #ff9800;
            display: none;
        }
        .progress-tracker h3 {
            color: #e65100;
            margin-top: 0;
        }
        .progress-item {
            background: white;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
            border-left: 3px solid #ff9800;
        }
        .progress-item h4 {
            color: #e65100;
            margin-top: 0;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #6c5ce7, #a29bfe);
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        .btn {
            background: #6c5ce7;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
            margin: 10px 5px;
        }
        .btn:hover {
            background: #5a4fcf;
        }
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .btn-secondary {
            background: #6c757d;
        }
        .btn-secondary:hover {
            background: #5a6268;
        }
        .btn-success {
            background: #4caf50;
        }
        .btn-success:hover {
            background: #45a049;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        .nav-btn {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background 0.3s;
        }
        .nav-btn:hover {
            background: #0056b3;
        }
        .module-selector {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #6c5ce7;
        }
        .module-selector h3 {
            color: #6c5ce7;
            margin-top: 0;
        }
        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .module-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .module-card:hover {
            border-color: #6c5ce7;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .module-card.selected {
            border-color: #6c5ce7;
            background: #f3f0ff;
        }
        .module-card h4 {
            color: #6c5ce7;
            margin: 0 0 10px 0;
        }
        .module-card .icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üß† Reflexi√≥n Personal</h1>
        <p>"Conecta los principios con tu vida personal"</p>
    </div>

    <div class="game-container">
        <h2>¬øC√≥mo Funciona la Reflexi√≥n Personal?</h2>
        <p>Este juego te gu√≠a a trav√©s de una reflexi√≥n profunda sobre c√≥mo los principios de David y Goliat se aplican a tu vida personal. A trav√©s de preguntas reflexivas, an√°lisis personal y planificaci√≥n de acciones, desarrollar√°s una comprensi√≥n m√°s profunda de c√≥mo usar estos principios en tu d√≠a a d√≠a.</p>

        <div class="reflection-intro">
            <h3>üéØ Objetivos de la Reflexi√≥n Personal</h3>
            <ul>
                <li><strong>Autoconocimiento:</strong> Identifica tus fortalezas y debilidades aparentes</li>
                <li><strong>Reenmarcamiento:</strong> Aprende a ver tus limitaciones desde una nueva perspectiva</li>
                <li><strong>Estrategia Personal:</strong> Desarrolla estrategias espec√≠ficas para tu situaci√≥n</li>
                <li><strong>Plan de Acci√≥n:</strong> Crea un plan concreto para aplicar los principios</li>
                <li><strong>Seguimiento:</strong> Monitorea tu progreso y ajusta tu enfoque</li>
            </ul>
        </div>

        <div class="module-selector">
            <h3>üìö Selecciona un M√≥dulo de Reflexi√≥n</h3>
            <p>Elige el √°rea de tu vida en la que quieres aplicar los principios de David y Goliat:</p>
            
            <div class="module-grid">
                <div class="module-card" data-module="personal">
                    <div class="icon">üë§</div>
                    <h4>Desarrollo Personal</h4>
                    <p>Reflexiona sobre tus caracter√≠sticas personales, habilidades y limitaciones aparentes.</p>
                </div>
                
                <div class="module-card" data-module="professional">
                    <div class="icon">üíº</div>
                    <h4>Vida Profesional</h4>
                    <p>Analiza tu carrera, competencias y c√≥mo puedes destacar en tu campo.</p>
                </div>
                
                <div class="module-card" data-module="relationships">
                    <div class="icon">ü§ù</div>
                    <h4>Relaciones y Social</h4>
                    <p>Explora tus interacciones sociales y c√≥mo puedes mejorar tus conexiones.</p>
                </div>
                
                <div class="module-card" data-module="challenges">
                    <div class="icon">üèîÔ∏è</div>
                    <h4>Desaf√≠os Espec√≠ficos</h4>
                    <p>Enf√≥cate en un desaf√≠o particular que est√©s enfrentando actualmente.</p>
                </div>
            </div>
        </div>

        <div class="reflection-module" id="reflectionModule">
            <h3>üß† M√≥dulo de Reflexi√≥n: <span id="moduleTitle">[Selecciona un m√≥dulo]</span></h3>
            
            <div class="reflection-question">
                <h4>üîç Pregunta 1: Autoevaluaci√≥n</h4>
                <p>Comienza identificando tus caracter√≠sticas actuales y c√≥mo las percibes:</p>
                
                <div class="question-input">
                    <label for="selfDescription">¬øC√≥mo te describir√≠as a ti mismo en el contexto de este m√≥dulo?</label>
                    <textarea id="selfDescription" placeholder="Describe tus caracter√≠sticas, habilidades, experiencias y c√≥mo te sientes respecto a ellas..."></textarea>
                </div>
                
                <div class="question-input">
                    <label for="perceivedStrengths">¬øQu√© consideras que son tus fortalezas en esta √°rea?</label>
                    <textarea id="perceivedStrengths" placeholder="Lista las cosas en las que crees que eres bueno o tienes ventajas..."></textarea>
                </div>
                
                <div class="question-input">
                    <label for="perceivedWeaknesses">¬øQu√© consideras que son tus debilidades o limitaciones en esta √°rea?</label>
                    <textarea id="perceivedWeaknesses" placeholder="Lista las cosas que crees que te limitan o en las que te sientes en desventaja..."></textarea>
                </div>
            </div>
            
            <div class="reflection-question">
                <h4>üîÑ Pregunta 2: Reenmarcamiento</h4>
                <p>Ahora vamos a ver tus caracter√≠sticas desde la perspectiva de David y Goliat:</p>
                
                <div class="question-input">
                    <label for="reframeStrengths">¬øPodr√≠as alguna de tus "fortalezas" estar limit√°ndote o convirti√©ndose en una desventaja?</label>
                    <textarea id="reframeStrengths" placeholder="Piensa en c√≥mo tener demasiado de algo bueno podr√≠a ser problem√°tico..."></textarea>
                </div>
                
                <div class="question-input">
                    <label for="reframeWeaknesses">¬øPodr√≠as alguna de tus "debilidades" ser en realidad una ventaja disfrazada?</label>
                    <textarea id="reframeWeaknesses" placeholder="Considera c√≥mo tus limitaciones podr√≠an forzar la innovaci√≥n o crear oportunidades √∫nicas..."></textarea>
                </div>
                
                <div class="question-input">
                    <label for="contextMatters">¬øEn qu√© contexto o situaci√≥n tus caracter√≠sticas ser√≠an m√°s valiosas?</label>
                    <textarea id="contextMatters" placeholder="Piensa en d√≥nde podr√≠as brillar m√°s, considerando el principio del 'pez grande en estanque peque√±o'..."></textarea>
                </div>
            </div>
            
            <div class="reflection-question">
                <h4>‚ö° Pregunta 3: Estrategias de David</h4>
                <p>Bas√°ndote en tu an√°lisis, ¬øqu√© estrategias podr√≠as usar?</p>
                
                <div class="question-input">
                    <label for="davidStrategies">¬øQu√© estrategias de David podr√≠as aplicar a tu situaci√≥n?</label>
                    <textarea id="davidStrategies" placeholder="Considera: cambiar las reglas, rechazar convenciones, usar velocidad, desarrollar habilidades especializadas, pensamiento no lineal, aprovechar contexto, convertir debilidades..."></textarea>
                </div>
                
                <div class="question-input">
                    <label for="specificActions">¬øQu√© acciones espec√≠ficas podr√≠as tomar para implementar estas estrategias?</label>
                    <textarea id="specificActions" placeholder="Describe acciones concretas y medibles que podr√≠as realizar..."></textarea>
                </div>
                
                <div class="question-input">
                    <label for="timeline">¬øEn qu√© plazo podr√≠as implementar estos cambios?</label>
                    <select id="timeline">
                        <option value="">Selecciona un plazo</option>
                        <option value="1-week">1 semana</option>
                        <option value="1-month">1 mes</option>
                        <option value="3-months">3 meses</option>
                        <option value="6-months">6 meses</option>
                        <option value="1-year">1 a√±o</option>
                    </select>
                </div>
            </div>
            
            <div class="reflection-question">
                <h4>üìä Pregunta 4: M√©tricas de √âxito</h4>
                <p>¬øC√≥mo sabr√°s que tus estrategias est√°n funcionando?</p>
                
                <div class="question-input">
                    <label for="successMetrics">¬øQu√© m√©tricas o indicadores usar√≠as para medir tu progreso?</label>
                    <textarea id="successMetrics" placeholder="Describe c√≥mo medir√≠as el √©xito: cambios en comportamiento, resultados espec√≠ficos, feedback de otros, etc..."></textarea>
                </div>
                
                <div class="question-input">
                    <label for="confidenceLevel">¬øQu√© tan confiado te sientes en tu capacidad para implementar estas estrategias?</label>
                    <input type="range" id="confidenceLevel" min="1" max="10" value="5">
                    <div class="range-value" id="confidenceValue">5</div>
                </div>
                
                <div class="question-input">
                    <label for="potentialObstacles">¬øQu√© obst√°culos podr√≠as encontrar y c√≥mo los superar√≠as?</label>
                    <textarea id="potentialObstacles" placeholder="Identifica posibles desaf√≠os y tus estrategias para superarlos..."></textarea>
                </div>
            </div>
            
            <div style="text-align: center; margin: 20px 0;">
                <button class="btn" id="generateSummary">üìã Generar Resumen</button>
                <button class="btn btn-secondary" id="resetReflection">üîÑ Reiniciar</button>
            </div>
        </div>

        <div class="reflection-summary" id="reflectionSummary">
            <h3>üìä Resumen de tu Reflexi√≥n Personal</h3>
            
            <div class="summary-section">
                <h4>üéØ Resumen Ejecutivo</h4>
                <div id="executiveSummary">
                    <p>Generando tu resumen personal...</p>
                </div>
            </div>
            
            <div class="summary-section">
                <h4>üí° Insights Clave</h4>
                <div id="keyInsights">
                    <p>Identificando insights importantes...</p>
                </div>
            </div>
            
            <div class="action-plan">
                <h4>üöÄ Plan de Acci√≥n Personal</h4>
                <div id="personalActionPlan">
                    <p>Creando tu plan de acci√≥n...</p>
                </div>
            </div>
            
            <div class="insight-card">
                <h4>üß† Principios de David y Goliat Aplicados</h4>
                <div id="principlesApplied">
                    <p>Analizando los principios aplicados...</p>
                </div>
            </div>
            
            <div style="text-align: center; margin: 20px 0;">
                <button class="btn btn-success" id="startTracking">üìà Comenzar Seguimiento</button>
                <button class="btn btn-secondary" id="downloadReflection">üì• Descargar Reflexi√≥n</button>
                <button class="btn" id="newReflection">üîÑ Nueva Reflexi√≥n</button>
            </div>
        </div>

        <div class="progress-tracker" id="progressTracker">
            <h3>üìà Seguimiento de tu Progreso</h3>
            <p>Monitorea tu progreso en la implementaci√≥n de tus estrategias de David:</p>
            
            <div class="progress-item">
                <h4>üéØ Progreso General</h4>
                <div class="progress-bar">
                    <div class="progress-fill" id="generalProgress" style="width: 0%"></div>
                </div>
                <p><strong>Estado:</strong> <span id="progressStatus">Iniciando</span></p>
            </div>
            
            <div class="progress-item">
                <h4>üìù Actualizaci√≥n Semanal</h4>
                <div class="question-input">
                    <label for="weeklyUpdate">¬øC√≥mo te fue esta semana implementando tus estrategias?</label>
                    <textarea id="weeklyUpdate" placeholder="Describe tu progreso, qu√© funcion√≥, qu√© no, y qu√© ajustes har√°s..."></textarea>
                </div>
                <div class="question-input">
                    <label for="weeklyConfidence">¬øQu√© tan confiado te sientes ahora en tu capacidad para implementar estas estrategias?</label>
                    <input type="range" id="weeklyConfidence" min="1" max="10" value="5">
                    <div class="range-value" id="weeklyConfidenceValue">5</div>
                </div>
                <button class="btn" id="saveProgress">üíæ Guardar Progreso</button>
            </div>
        </div>
    </div>

    <div class="navigation">
        <a href="04_casos_estudio.html" class="nav-btn">‚Üê Anterior</a>
        <a href="../pantalla_principal.html" class="nav-btn">üè† Volver al Inicio</a>
    </div>

    <script>
        let currentModule = null;
        let reflectionData = {};
        let progressData = {};

        // M√≥dulos de reflexi√≥n
        const modules = {
            personal: {
                title: "Desarrollo Personal",
                description: "Reflexiona sobre tus caracter√≠sticas personales, habilidades y limitaciones aparentes.",
                icon: "üë§"
            },
            professional: {
                title: "Vida Profesional",
                description: "Analiza tu carrera, competencias y c√≥mo puedes destacar en tu campo.",
                icon: "üíº"
            },
            relationships: {
                title: "Relaciones y Social",
                description: "Explora tus interacciones sociales y c√≥mo puedes mejorar tus conexiones.",
                icon: "ü§ù"
            },
            challenges: {
                title: "Desaf√≠os Espec√≠ficos",
                description: "Enf√≥cate en un desaf√≠o particular que est√©s enfrentando actualmente.",
                icon: "üèîÔ∏è"
            }
        };

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Selecci√≥n de m√≥dulos
            document.querySelectorAll('.module-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.module-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    loadModule(this.dataset.module);
                });
            });

            // Botones
            document.getElementById('generateSummary').addEventListener('click', generateSummary);
            document.getElementById('resetReflection').addEventListener('click', resetReflection);
            document.getElementById('startTracking').addEventListener('click', startTracking);
            document.getElementById('saveProgress').addEventListener('click', saveProgress);
            document.getElementById('newReflection').addEventListener('click', newReflection);

            // Range inputs
            document.getElementById('confidenceLevel').addEventListener('input', function() {
                document.getElementById('confidenceValue').textContent = this.value;
            });

            document.getElementById('weeklyConfidence').addEventListener('input', function() {
                document.getElementById('weeklyConfidenceValue').textContent = this.value;
            });
        });

        function loadModule(moduleId) {
            currentModule = moduleId;
            const moduleData = modules[moduleId];
            
            document.getElementById('moduleTitle').textContent = moduleData.title;
            document.getElementById('reflectionModule').style.display = 'block';
            
            // Scroll al m√≥dulo
            document.getElementById('reflectionModule').scrollIntoView({ behavior: 'smooth' });
        }

        function generateSummary() {
            // Recopilar datos de reflexi√≥n
            reflectionData = {
                module: currentModule,
                moduleTitle: modules[currentModule].title,
                selfDescription: document.getElementById('selfDescription').value,
                perceivedStrengths: document.getElementById('perceivedStrengths').value,
                perceivedWeaknesses: document.getElementById('perceivedWeaknesses').value,
                reframeStrengths: document.getElementById('reframeStrengths').value,
                reframeWeaknesses: document.getElementById('reframeWeaknesses').value,
                contextMatters: document.getElementById('contextMatters').value,
                davidStrategies: document.getElementById('davidStrategies').value,
                specificActions: document.getElementById('specificActions').value,
                timeline: document.getElementById('timeline').value,
                successMetrics: document.getElementById('successMetrics').value,
                confidenceLevel: document.getElementById('confidenceLevel').value,
                potentialObstacles: document.getElementById('potentialObstacles').value
            };

            // Validar que todos los campos est√©n completos
            const requiredFields = ['selfDescription', 'perceivedStrengths', 'perceivedWeaknesses', 'davidStrategies', 'specificActions'];
            const missingFields = requiredFields.filter(field => !reflectionData[field]);
            
            if (missingFields.length > 0) {
                alert('Por favor, completa todos los campos requeridos antes de generar el resumen.');
                return;
            }

            // Generar resumen ejecutivo
            document.getElementById('executiveSummary').innerHTML = `
                <p><strong>M√≥dulo:</strong> ${reflectionData.moduleTitle}</p>
                <p><strong>Resumen:</strong> Has identificado ${reflectionData.perceivedStrengths.split(',').length} fortalezas aparentes y ${reflectionData.perceivedWeaknesses.split(',').length} debilidades aparentes en el √°rea de ${reflectionData.moduleTitle.toLowerCase()}.</p>
                <p><strong>Estrategia Principal:</strong> Tu enfoque se centra en ${reflectionData.davidStrategies.split(' ').slice(0, 5).join(' ')}...</p>
                <p><strong>Timeline:</strong> Planeas implementar estos cambios en ${reflectionData.timeline || 'un plazo por definir'}.</p>
                <p><strong>Nivel de Confianza:</strong> ${reflectionData.confidenceLevel}/10</p>
            `;

            // Generar insights clave
            document.getElementById('keyInsights').innerHTML = `
                <ul>
                    <li><strong>Perspectiva Cambiante:</strong> Has identificado que ${reflectionData.reframeWeaknesses ? 'algunas de tus debilidades podr√≠an ser ventajas disfrazadas' : 'necesitas m√°s reflexi√≥n sobre c√≥mo reenmarcar tus debilidades'}.</li>
                    <li><strong>Contexto Importante:</strong> ${reflectionData.contextMatters ? 'Has identificado contextos donde podr√≠as brillar m√°s' : 'Considera buscar contextos m√°s favorables para tus caracter√≠sticas'}.</li>
                    <li><strong>Estrategia de David:</strong> Tu enfoque principal es ${reflectionData.davidStrategies.split(' ').slice(0, 3).join(' ')}...</li>
                    <li><strong>Obst√°culos Identificados:</strong> ${reflectionData.potentialObstacles ? 'Has planeado c√≥mo superar los desaf√≠os' : 'Considera identificar posibles obst√°culos y estrategias para superarlos'}.</li>
                </ul>
            `;

            // Generar plan de acci√≥n
            document.getElementById('personalActionPlan').innerHTML = `
                <div class="action-item">
                    <span class="action-number">1</span>
                    <strong>Implementar Estrategias:</strong> ${reflectionData.davidStrategies}
                </div>
                <div class="action-item">
                    <span class="action-number">2</span>
                    <strong>Acciones Espec√≠ficas:</strong> ${reflectionData.specificActions}
                </div>
                <div class="action-item">
                    <span class="action-number">3</span>
                    <strong>Timeline:</strong> ${reflectionData.timeline || 'Definir plazo espec√≠fico'}
                </div>
                <div class="action-item">
                    <span class="action-number">4</span>
                    <strong>M√©tricas de √âxito:</strong> ${reflectionData.successMetrics}
                </div>
                <div class="action-item">
                    <span class="action-number">5</span>
                    <strong>Superar Obst√°culos:</strong> ${reflectionData.potentialObstacles || 'Desarrollar estrategias para desaf√≠os inesperados'}
                </div>
            `;

            // Generar principios aplicados
            document.getElementById('principlesApplied').innerHTML = `
                <ul>
                    <li><strong>Reenmarcamiento:</strong> ${reflectionData.reframeWeaknesses ? 'Has aplicado el principio de convertir debilidades en ventajas' : 'Considera c√≥mo tus limitaciones podr√≠an ser oportunidades'}</li>
                    <li><strong>Contexto:</strong> ${reflectionData.contextMatters ? 'Has identificado el principio del pez grande en estanque peque√±o' : 'Busca contextos donde tus caracter√≠sticas sean m√°s valiosas'}</li>
                    <li><strong>Estrategia:</strong> Has aplicado el principio de desarrollar estrategias alternativas en lugar de competir directamente</li>
                    <li><strong>Innovaci√≥n:</strong> Tu enfoque demuestra el principio de cambiar las reglas del juego</li>
                </ul>
            `;

            // Mostrar resumen
            document.getElementById('reflectionSummary').style.display = 'block';
            document.getElementById('reflectionSummary').scrollIntoView({ behavior: 'smooth' });
        }

        function resetReflection() {
            // Limpiar todos los campos
            const fields = ['selfDescription', 'perceivedStrengths', 'perceivedWeaknesses', 'reframeStrengths', 'reframeWeaknesses', 'contextMatters', 'davidStrategies', 'specificActions', 'successMetrics', 'potentialObstacles'];
            fields.forEach(field => {
                document.getElementById(field).value = '';
            });
            
            document.getElementById('timeline').value = '';
            document.getElementById('confidenceLevel').value = '5';
            document.getElementById('confidenceValue').textContent = '5';
            
            // Ocultar resumen y progreso
            document.getElementById('reflectionSummary').style.display = 'none';
            document.getElementById('progressTracker').style.display = 'none';
        }

        function startTracking() {
            document.getElementById('progressTracker').style.display = 'block';
            document.getElementById('progressTracker').scrollIntoView({ behavior: 'smooth' });
            
            // Inicializar progreso
            progressData = {
                startDate: new Date(),
                weeklyUpdates: [],
                confidenceLevels: [],
                generalProgress: 0
            };
            
            updateProgressDisplay();
        }

        function saveProgress() {
            const weeklyUpdate = document.getElementById('weeklyUpdate').value;
            const weeklyConfidence = document.getElementById('weeklyConfidence').value;
            
            if (!weeklyUpdate) {
                alert('Por favor, describe tu progreso semanal.');
                return;
            }

            progressData.weeklyUpdates.push({
                date: new Date(),
                update: weeklyUpdate,
                confidence: parseInt(weeklyConfidence)
            });

            progressData.confidenceLevels.push(parseInt(weeklyConfidence));
            
            // Calcular progreso general
            const weeksElapsed = Math.min(progressData.weeklyUpdates.length, 12); // M√°ximo 12 semanas
            progressData.generalProgress = Math.min((weeksElapsed / 12) * 100, 100);
            
            updateProgressDisplay();
            
            // Limpiar formulario
            document.getElementById('weeklyUpdate').value = '';
            document.getElementById('weeklyConfidence').value = '5';
            document.getElementById('weeklyConfidenceValue').textContent = '5';
            
            alert('Progreso guardado exitosamente.');
        }

        function updateProgressDisplay() {
            document.getElementById('generalProgress').style.width = progressData.generalProgress + '%';
            
            let status = 'Iniciando';
            if (progressData.generalProgress > 25) status = 'En Progreso';
            if (progressData.generalProgress > 50) status = 'Bien Encaminado';
            if (progressData.generalProgress > 75) status = 'Casi Completado';
            if (progressData.generalProgress >= 100) status = 'Completado';
            
            document.getElementById('progressStatus').textContent = status;
        }

        function newReflection() {
            // Volver al selector de m√≥dulos
            document.getElementById('reflectionModule').style.display = 'none';
            document.getElementById('reflectionSummary').style.display = 'none';
            document.getElementById('progressTracker').style.display = 'none';
            document.querySelectorAll('.module-card').forEach(c => c.classList.remove('selected'));
            currentModule = null;
            reflectionData = {};
            progressData = {};
            resetReflection();
        }
    </script>
</body>
</html>
