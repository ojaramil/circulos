<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador del C√≠rculo de Seguridad - Los L√≠deres Comen de √öltimo</title>
    <link rel="stylesheet" href="../nuevo-style.css">
    <style>
        .simulator-container {
            background: #fff;
            border-radius: 12px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .circle-visualization {
            position: relative;
            width: 400px;
            height: 400px;
            margin: 30px auto;
            border: 3px solid #1e3a5c;
            border-radius: 50%;
            background: radial-gradient(circle, #e3f2fd 0%, #bbdefb 100%);
        }
        .circle-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: #ff9800;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2em;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        .team-member {
            position: absolute;
            width: 40px;
            height: 40px;
            background: #4caf50;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .team-member:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0,0,0,0.4);
        }
        .team-member.inside {
            background: #4caf50;
            border: 2px solid #2e7d32;
        }
        .team-member.outside {
            background: #f44336;
            border: 2px solid #c62828;
        }
        .team-member.unsafe {
            background: #ff9800;
            border: 2px solid #e68900;
        }
        .scenario-container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .scenario-title {
            color: #1e3a5c;
            font-size: 1.2em;
            margin-bottom: 15px;
            font-weight: 600;
        }
        .scenario-description {
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        .scenario-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .scenario-option {
            background: #fff;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }
        .scenario-option:hover {
            border-color: #ff9800;
            background: #fff3e0;
        }
        .scenario-option.selected {
            border-color: #ff9800;
            background: #fff3e0;
        }
        .metrics-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .metric-card {
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 4px solid #ff9800;
        }
        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #1e3a5c;
            margin-bottom: 10px;
        }
        .metric-label {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .feedback-message {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            display: none;
        }
        .feedback-message.warning {
            background: linear-gradient(135deg, #ff9800, #ffb74d);
        }
        .feedback-message.danger {
            background: linear-gradient(135deg, #f44336, #ef5350);
        }
        .team-info {
            background: #e8f5e8;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .team-info h4 {
            color: #2e7d32;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        .team-info h4::before {
            content: "üë• ";
            margin-right: 8px;
        }
        .team-member-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .member-tag {
            background: #4caf50;
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }
        .member-tag.outside {
            background: #f44336;
        }
        .member-tag.unsafe {
            background: #ff9800;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="game-title">Simulador del C√≠rculo de Seguridad</h1>
        <p class="game-description">
            Experimenta c√≥mo las decisiones de liderazgo afectan el C√≠rculo de Seguridad de tu equipo. 
            Aprende a crear un entorno donde las personas se sientan seguras y protegidas.
        </p>

        <div class="simulator-container">
            <div class="circle-visualization" id="circleVisualization">
                <div class="circle-center">L</div>
                <!-- Los miembros del equipo se generar√°n din√°micamente -->
            </div>

            <div class="metrics-display">
                <div class="metric-card">
                    <div class="metric-value" id="insideCount">0</div>
                    <div class="metric-label">Dentro del C√≠rculo</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="outsideCount">0</div>
                    <div class="metric-label">Fuera del C√≠rculo</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="safetyScore">100%</div>
                    <div class="metric-label">Puntuaci√≥n de Seguridad</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="teamMorale">Alta</div>
                    <div class="metric-label">Moral del Equipo</div>
                </div>
            </div>

            <div class="team-info">
                <h4>Estado del Equipo</h4>
                <div class="team-member-list" id="teamMemberList">
                    <!-- Los miembros se mostrar√°n aqu√≠ -->
                </div>
            </div>

            <div id="feedbackMessage" class="feedback-message">
                <!-- Los mensajes de feedback se mostrar√°n aqu√≠ -->
            </div>
        </div>

        <div class="scenario-container">
            <div class="scenario-title">Escenario: Crisis de Confianza</div>
            <div class="scenario-description">
                Tu equipo est√° experimentando una crisis de confianza. Algunos miembros se sienten inseguros 
                y est√°n considerando buscar trabajo en otro lugar. ¬øC√≥mo respondes como l√≠der?
            </div>
            <div class="scenario-options">
                <div class="scenario-option" onclick="selectScenario(1)">
                    Mantener la calma y recordar al equipo que "esto tambi√©n pasar√°"
                </div>
                <div class="scenario-option" onclick="selectScenario(2)">
                    Organizar una reuni√≥n para escuchar las preocupaciones del equipo
                </div>
                <div class="scenario-option" onclick="selectScenario(3)">
                    Implementar medidas de control m√°s estrictas para mantener el orden
                </div>
                <div class="scenario-option" onclick="selectScenario(4)">
                    Revisar las pol√≠ticas de la empresa y hacer cambios proactivos
                </div>
            </div>
        </div>

        <div class="scenario-container">
            <div class="scenario-title">Escenario: Nuevo Miembro del Equipo</div>
            <div class="scenario-description">
                Se ha unido un nuevo miembro al equipo. Es muy talentoso pero parece t√≠mido y reservado. 
                ¬øC√≥mo lo integras al C√≠rculo de Seguridad?
            </div>
            <div class="scenario-options">
                <div class="scenario-option" onclick="selectScenario(5)">
                    Dejarlo que se adapte por s√≠ solo, el tiempo lo integrar√°
                </div>
                <div class="scenario-option" onclick="selectScenario(6)">
                    Asignarle un mentor del equipo para que lo gu√≠e
                </div>
                <div class="scenario-option" onclick="selectScenario(7)">
                    Organizar actividades de team building para que se conozcan todos
                </div>
                <div class="scenario-option" onclick="selectScenario(8)">
                    Darle responsabilidades importantes inmediatamente para que se sienta valorado
                </div>
            </div>
        </div>

        <div class="scenario-container">
            <div class="scenario-title">Escenario: Error Cr√≠tico</div>
            <div class="scenario-description">
                Un miembro del equipo ha cometido un error que ha costado dinero a la empresa. 
                ¬øC√≥mo manejas la situaci√≥n?
            </div>
            <div class="scenario-options">
                <div class="scenario-option" onclick="selectScenario(9)">
                    Reprenderlo p√∫blicamente para que otros no cometan el mismo error
                </div>
                <div class="scenario-option" onclick="selectScenario(10)">
                    Investigar qu√© sali√≥ mal y crear un plan para evitar futuros errores
                </div>
                <div class="scenario-option" onclick="selectScenario(11)">
                    Ofrecer apoyo emocional y ayudarle a aprender de la experiencia
                </div>
                <div class="scenario-option" onclick="selectScenario(12)">
                    Revisar si el error se debi√≥ a falta de recursos o apoyo del liderazgo
                </div>
            </div>
        </div>

        <div class="game-controls">
            <button class="btn" onclick="resetSimulator()">Reiniciar Simulador</button>
            <button class="btn btn-secondary" onclick="showTips()">Ver Consejos</button>
        </div>
    </div>

    <script>
        const teamMembers = [
            { id: 1, name: "Ana", position: { angle: 45, radius: 120 }, status: "inside" },
            { id: 2, name: "Carlos", position: { angle: 90, radius: 130 }, status: "inside" },
            { id: 3, name: "Mar√≠a", position: { angle: 135, radius: 110 }, status: "inside" },
            { id: 4, name: "Luis", position: { angle: 180, radius: 140 }, status: "inside" },
            { id: 5, name: "Sofia", position: { angle: 225, radius: 125 }, status: "inside" },
            { id: 6, name: "Diego", position: { angle: 270, radius: 135 }, status: "inside" },
            { id: 7, name: "Elena", position: { angle: 315, radius: 115 }, status: "inside" },
            { id: 8, name: "Roberto", position: { angle: 0, radius: 150 }, status: "inside" }
        ];

        let currentScenario = 0;
        let safetyScore = 100;
        let teamMorale = "Alta";

        function initializeSimulator() {
            renderCircle();
            updateMetrics();
            updateTeamInfo();
        }

        function renderCircle() {
            const container = document.getElementById('circleVisualization');
            const centerX = 200;
            const centerY = 200;
            
            // Limpiar miembros existentes
            const existingMembers = container.querySelectorAll('.team-member');
            existingMembers.forEach(member => member.remove());
            
            // Renderizar cada miembro
            teamMembers.forEach(member => {
                const x = centerX + member.position.radius * Math.cos(member.position.angle * Math.PI / 180);
                const y = centerY + member.position.radius * Math.sin(member.position.angle * Math.PI / 180);
                
                const memberElement = document.createElement('div');
                memberElement.className = `team-member ${member.status}`;
                memberElement.style.left = (x - 20) + 'px';
                memberElement.style.top = (y - 20) + 'px';
                memberElement.textContent = member.name.charAt(0);
                memberElement.title = `${member.name} - ${getStatusText(member.status)}`;
                
                container.appendChild(memberElement);
            });
        }

        function getStatusText(status) {
            switch(status) {
                case 'inside': return 'Dentro del C√≠rculo';
                case 'outside': return 'Fuera del C√≠rculo';
                case 'unsafe': return 'Inseguro';
                default: return 'Desconocido';
            }
        }

        function updateMetrics() {
            const insideCount = teamMembers.filter(m => m.status === 'inside').length;
            const outsideCount = teamMembers.filter(m => m.status === 'outside').length;
            const unsafeCount = teamMembers.filter(m => m.status === 'unsafe').length;
            
            document.getElementById('insideCount').textContent = insideCount;
            document.getElementById('outsideCount').textContent = outsideCount;
            
            // Calcular puntuaci√≥n de seguridad
            safetyScore = Math.round(((insideCount + unsafeCount * 0.5) / teamMembers.length) * 100);
            document.getElementById('safetyScore').textContent = safetyScore + '%';
            
            // Actualizar moral del equipo
            if (safetyScore >= 80) teamMorale = "Alta";
            else if (safetyScore >= 60) teamMorale = "Media";
            else teamMorale = "Baja";
            
            document.getElementById('teamMorale').textContent = teamMorale;
        }

        function updateTeamInfo() {
            const container = document.getElementById('teamMemberList');
            container.innerHTML = '';
            
            teamMembers.forEach(member => {
                const tag = document.createElement('div');
                tag.className = `member-tag ${member.status}`;
                tag.textContent = member.name;
                container.appendChild(tag);
            });
        }

        function selectScenario(scenarioId) {
            // Remover selecci√≥n previa
            document.querySelectorAll('.scenario-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Marcar opci√≥n seleccionada
            event.target.classList.add('selected');
            
            // Aplicar efectos seg√∫n el escenario
            applyScenarioEffects(scenarioId);
            
            // Mostrar feedback
            showFeedback(scenarioId);
            
            // Actualizar visualizaci√≥n
            renderCircle();
            updateMetrics();
            updateTeamInfo();
        }

        function applyScenarioEffects(scenarioId) {
            switch(scenarioId) {
                case 1: // Mantener la calma
                    moveMemberOutside(2);
                    moveMemberOutside(5);
                    break;
                case 2: // Escuchar preocupaciones
                    moveMemberInside(2);
                    moveMemberInside(5);
                    break;
                case 3: // Control estricto
                    moveMemberOutside(1);
                    moveMemberOutside(3);
                    moveMemberOutside(6);
                    break;
                case 4: // Cambios proactivos
                    moveMemberInside(1);
                    moveMemberInside(3);
                    moveMemberInside(6);
                    break;
                case 5: // Dejar que se adapte solo
                    moveMemberOutside(8);
                    break;
                case 6: // Asignar mentor
                    moveMemberInside(8);
                    break;
                case 7: // Team building
                    moveMemberInside(8);
                    moveMemberInside(4);
                    break;
                case 8: // Responsabilidades inmediatas
                    moveMemberOutside(8);
                    moveMemberUnsafe(4);
                    break;
                case 9: // Reprender p√∫blicamente
                    moveMemberOutside(3);
                    moveMemberOutside(7);
                    moveMemberUnsafe(1);
                    break;
                case 10: // Investigar y planificar
                    moveMemberInside(3);
                    moveMemberInside(7);
                    break;
                case 11: // Apoyo emocional
                    moveMemberInside(3);
                    moveMemberInside(7);
                    moveMemberInside(1);
                    break;
                case 12: // Revisar el sistema completo
                    moveMemberInside(3);
                    moveMemberInside(7);
                    moveMemberInside(1);
                    moveMemberInside(4);
                    break;
            }
        }

        function moveMemberOutside(memberId) {
            const member = teamMembers.find(m => m.id === memberId);
            if (member) member.status = 'outside';
        }

        function moveMemberInside(memberId) {
            const member = teamMembers.find(m => m.id === memberId);
            if (member) member.status = 'inside';
        }

        function moveMemberUnsafe(memberId) {
            const member = teamMembers.find(m => m.id === memberId);
            if (member) member.status = 'unsafe';
        }

        function showFeedback(scenarioId) {
            const feedbackContainer = document.getElementById('feedbackMessage');
            let message = '';
            let type = 'success';
            
            switch(scenarioId) {
                case 1:
                    message = '‚ùå Ignorar las preocupaciones del equipo puede hacer que se sientan desvalorizados.';
                    type = 'danger';
                    break;
                case 2:
                    message = '‚úÖ Escuchar activamente demuestra que te importa tu equipo y fortalece la confianza.';
                    type = 'success';
                    break;
                case 3:
                    message = '‚ö†Ô∏è El control excesivo puede crear miedo y reducir la creatividad del equipo.';
                    type = 'warning';
                    break;
                case 4:
                    message = '‚úÖ Ser proactivo en los cambios muestra liderazgo y fortalece el C√≠rculo de Seguridad.';
                    type = 'success';
                    break;
                case 5:
                    message = '‚ùå Dejar que los nuevos miembros se adapten solos puede hacer que se sientan excluidos.';
                    type = 'danger';
                    break;
                case 6:
                    message = '‚úÖ Asignar un mentor es una excelente manera de integrar nuevos miembros al C√≠rculo.';
                    type = 'success';
                    break;
                case 7:
                    message = '‚úÖ Las actividades de team building fortalecen los v√≠nculos y la confianza mutua.';
                    type = 'success';
                    break;
                case 8:
                    message = '‚ö†Ô∏è Dar responsabilidades importantes sin preparaci√≥n puede crear estr√©s y ansiedad.';
                    type = 'warning';
                    break;
                case 9:
                    message = '‚ùå La humillaci√≥n p√∫blica destruye la confianza y debilita el C√≠rculo de Seguridad.';
                    type = 'danger';
                    break;
                case 10:
                    message = '‚úÖ Investigar y planificar demuestra liderazgo responsable y fortalece la confianza.';
                    type = 'success';
                    break;
                case 11:
                    message = '‚úÖ El apoyo emocional es fundamental para mantener un C√≠rculo de Seguridad fuerte.';
                    type = 'success';
                    break;
                case 12:
                    message = '‚úÖ Revisar el sistema completo muestra liderazgo maduro y responsabilidad.';
                    type = 'success';
                    break;
            }
            
            feedbackContainer.textContent = message;
            feedbackContainer.className = `feedback-message ${type}`;
            feedbackContainer.style.display = 'block';
            
            // Ocultar despu√©s de 5 segundos
            setTimeout(() => {
                feedbackContainer.style.display = 'none';
            }, 5000);
        }

        function resetSimulator() {
            teamMembers.forEach(member => {
                member.status = 'inside';
            });
            
            safetyScore = 100;
            teamMorale = "Alta";
            
            renderCircle();
            updateMetrics();
            updateTeamInfo();
            
            // Limpiar selecciones
            document.querySelectorAll('.scenario-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Ocultar feedback
            document.getElementById('feedbackMessage').style.display = 'none';
        }

        function showTips() {
            const tips = [
                "üí° El C√≠rculo de Seguridad se fortalece cuando los l√≠deres anteponen las necesidades del equipo a las suyas.",
                "üí° La confianza se construye escuchando activamente y respondiendo a las preocupaciones del equipo.",
                "üí° Los errores son oportunidades de aprendizaje, no de castigo.",
                "üí° La inclusi√≥n activa de nuevos miembros fortalece la cultura del equipo.",
                "üí° El control excesivo puede crear miedo y reducir la innovaci√≥n.",
                "üí° Los l√≠deres efectivos protegen a su equipo de amenazas internas y externas."
            ];
            
            alert("Consejos para un C√≠rculo de Seguridad Fuerte:\n\n" + tips.join("\n\n"));
        }

        // Inicializar el simulador
        initializeSimulator();
    </script>
</body>
</html>
