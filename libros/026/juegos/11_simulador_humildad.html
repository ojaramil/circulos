<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Humildad - El Ego es el Enemigo</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin: 0;
        }
        .header p {
            color: #666;
            font-size: 1.2em;
            margin: 10px 0 0 0;
        }
        .simulator-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }
        .simulator-section h3 {
            color: #667eea;
            margin-top: 0;
        }
        .scenario-card {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            transition: all 0.3s;
            cursor: pointer;
        }
        .scenario-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .scenario-card.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }
        .scenario-card h4 {
            color: #667eea;
            margin-top: 0;
        }
        .scenario-card p {
            margin: 10px 0;
        }
        .scenario-card .difficulty {
            color: #666;
            font-size: 0.9em;
            font-weight: bold;
        }
        .response-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .response-option {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s;
        }
        .response-option:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }
        .response-option.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }
        .response-option h4 {
            color: #667eea;
            margin-top: 0;
        }
        .response-option p {
            margin: 10px 0;
        }
        .response-option .consequence {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
        }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.3s;
            margin: 10px 5px;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn-secondary {
            background: #6c757d;
        }
        .btn-success {
            background: #28a745;
        }
        .btn-danger {
            background: #dc3545;
        }
        .results {
            background: #d4edda;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #28a745;
            display: none;
        }
        .results h3 {
            color: #28a745;
            margin-top: 0;
        }
        .score-display {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }
        .score-display h2 {
            color: #667eea;
            margin: 0;
        }
        .score-display .score {
            font-size: 3em;
            font-weight: bold;
            color: #333;
            margin: 10px 0;
        }
        .score-display .level {
            font-size: 1.2em;
            color: #666;
        }
        .progress-bar {
            background: #e9ecef;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            transition: width 0.3s;
        }
        .feedback {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #ffc107;
        }
        .feedback h4 {
            color: #856404;
            margin-top: 0;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .stat-card h4 {
            color: #667eea;
            margin: 0 0 10px 0;
        }
        .stat-card .number {
            font-size: 2em;
            font-weight: bold;
            color: #333;
        }
        .tip-box {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #0056b3;
        }
        .tip-box h4 {
            color: #0056b3;
            margin-top: 0;
        }
        .scenario-progress {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .scenario-progress h4 {
            color: #667eea;
            margin-top: 0;
        }
        .scenario-progress .progress-bar {
            background: #e9ecef;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
        }
        .scenario-progress .progress-fill {
            background: #667eea;
            height: 100%;
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÆ Simulador de Humildad</h1>
            <p>Practica la humildad en situaciones reales de manera segura</p>
        </div>

        <div class="simulator-section">
            <h3>üéØ Selecciona un Escenario</h3>
            <p>Elige una situaci√≥n para practicar tu humildad:</p>
            
            <div class="scenario-card" onclick="selectScenario('work-success')">
                <h4>üèÜ √âxito en el Trabajo</h4>
                <p>Acabas de recibir un reconocimiento importante por tu trabajo. Tu jefe te felicit√≥ p√∫blicamente y otros compa√±eros te est√°n pidiendo consejos.</p>
                <div class="difficulty">Dificultad: Media</div>
            </div>
            
            <div class="scenario-card" onclick="selectScenario('criticism')">
                <h4>üí¨ Recibir Cr√≠ticas</h4>
                <p>Recibiste feedback negativo sobre tu desempe√±o en una presentaci√≥n importante. Tu supervisor mencion√≥ que tu enfoque fue demasiado agresivo.</p>
                <div class="difficulty">Dificultad: Alta</div>
            </div>
            
            <div class="scenario-card" onclick="selectScenario('team-conflict')">
                <h4>‚öîÔ∏è Conflicto en el Equipo</h4>
                <p>Tienes un desacuerdo con un compa√±ero de trabajo sobre la direcci√≥n de un proyecto. Tu compa√±ero cuestiona tu enfoque y sugiere un m√©todo diferente.</p>
                <div class="difficulty">Dificultad: Alta</div>
            </div>
            
            <div class="scenario-card" onclick="selectScenario('project-failure')">
                <h4>üí• Fracaso en un Proyecto</h4>
                <p>Un proyecto importante en el que trabajaste durante meses no logr√≥ los resultados esperados. Tu jefe est√° decepcionado y otros est√°n se√±alando errores.</p>
                <div class="difficulty">Dificultad: Muy Alta</div>
            </div>
            
            <div class="scenario-card" onclick="selectScenario('competition')">
                <h4>üèÅ Competencia con Otros</h4>
                <p>Est√°s compitiendo por una promoci√≥n con un compa√±ero de trabajo. Ambos tienen habilidades similares, pero tu compa√±ero ha estado recibiendo m√°s reconocimiento.</p>
                <div class="difficulty">Dificultad: Media</div>
            </div>
            
            <div class="scenario-card" onclick="selectScenario('mistake')">
                <h4>‚ùå Cometer un Error</h4>
                <p>Cometiste un error importante que afect√≥ a todo el equipo. El error fue costoso y ahora otros est√°n cuestionando tu competencia.</p>
                <div class="difficulty">Dificultad: Muy Alta</div>
            </div>
        </div>

        <div class="simulator-section" id="scenario-details" style="display: none;">
            <h3>üìã Detalles del Escenario</h3>
            <div id="scenario-description"></div>
            
            <div class="scenario-progress">
                <h4>Progreso del Escenario</h4>
                <div class="progress-bar">
                    <div class="progress-fill" id="scenario-progress" style="width: 0%"></div>
                </div>
                <p>Pregunta <span id="current-question">1</span> de <span id="total-questions">5</span></p>
            </div>
        </div>

        <div class="simulator-section" id="question-section" style="display: none;">
            <h3>‚ùì Pregunta</h3>
            <div id="question-text"></div>
            
            <div class="response-options" id="response-options">
                <!-- Options will be generated by JavaScript -->
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn" onclick="submitResponse()" id="submit-btn" style="display: none;">‚úÖ Enviar Respuesta</button>
            </div>
        </div>

        <div class="results" id="results">
            <h3>üìä Resultados del Simulador</h3>
            <div id="results-content"></div>
        </div>

        <div class="score-display" id="score-display" style="display: none;">
            <h2>Tu Puntuaci√≥n</h2>
            <div class="score" id="final-score">0</div>
            <div class="level" id="humility-level">Nivel de Humildad</div>
        </div>

        <div class="stats" id="stats" style="display: none;">
            <div class="stat-card">
                <h4>Escenarios Completados</h4>
                <div class="number" id="completed-scenarios">0</div>
            </div>
            <div class="stat-card">
                <h4>Puntuaci√≥n Promedio</h4>
                <div class="number" id="average-score">0</div>
            </div>
            <div class="stat-card">
                <h4>Mejor Puntuaci√≥n</h4>
                <div class="number" id="best-score">0</div>
            </div>
            <div class="stat-card">
                <h4>Nivel Actual</h4>
                <div class="number" id="current-level">Principiante</div>
            </div>
        </div>

        <div class="tip-box">
            <h4>üí° Consejo del Simulador</h4>
            <p>La humildad no es debilidad, es fortaleza. Te permite aprender, crecer y conectar mejor con otros. Usa este simulador para practicar respuestas humildes en situaciones desafiantes.</p>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <button class="btn" onclick="startSimulation()" id="start-btn" style="display: none;">üöÄ Comenzar Simulaci√≥n</button>
            <button class="btn btn-success" onclick="saveResults()" id="save-btn" style="display: none;">üíæ Guardar Resultados</button>
            <button class="btn btn-secondary" onclick="viewStats()" id="stats-btn" style="display: none;">üìä Ver Estad√≠sticas</button>
            <button class="btn btn-danger" onclick="resetSimulator()">üîÑ Reiniciar</button>
        </div>
    </div>

    <script>
        let currentScenario = null;
        let currentQuestion = 0;
        let selectedResponse = null;
        let score = 0;
        let simulationData = JSON.parse(localStorage.getItem('humilitySimulation') || '[]');

        const scenarios = {
            'work-success': {
                title: '√âxito en el Trabajo',
                description: 'Acabas de recibir un reconocimiento importante por tu trabajo. Tu jefe te felicit√≥ p√∫blicamente y otros compa√±eros te est√°n pidiendo consejos.',
                questions: [
                    {
                        question: '¬øC√≥mo reaccionas cuando tu jefe te felicita p√∫blicamente?',
                        options: [
                            {
                                text: 'Aceptas el reconocimiento con gratitud y reconoces el trabajo del equipo',
                                score: 10,
                                feedback: 'Excelente! Reconocer el trabajo del equipo muestra humildad genuina.'
                            },
                            {
                                text: 'Te sientes orgulloso pero mantienes la compostura',
                                score: 7,
                                feedback: 'Bien! Mantener la compostura es importante, pero considera reconocer a otros tambi√©n.'
                            },
                            {
                                text: 'Te sientes un poco inc√≥modo con la atenci√≥n',
                                score: 5,
                                feedback: 'Entendible, pero recuerda que es importante aceptar el reconocimiento con gracia.'
                            },
                            {
                                text: 'Te sientes muy orgulloso y quieres que todos lo sepan',
                                score: 2,
                                feedback: 'Cuidado! El orgullo excesivo puede alejar a las personas.'
                            }
                        ]
                    },
                    {
                        question: 'Un compa√±ero te pide consejos sobre c√≥mo mejorar su trabajo. ¬øQu√© haces?',
                        options: [
                            {
                                text: 'Compartes tus conocimientos y tambi√©n pides consejos a cambio',
                                score: 10,
                                feedback: 'Perfecto! La humildad incluye estar abierto a aprender de otros.'
                            },
                            {
                                text: 'Compartes tus conocimientos y le sugieres recursos adicionales',
                                score: 8,
                                feedback: 'Muy bien! Ayudar a otros es una muestra de humildad.'
                            },
                            {
                                text: 'Le das algunos consejos b√°sicos',
                                score: 5,
                                feedback: 'Est√° bien, pero considera ser m√°s generoso con tu conocimiento.'
                            },
                            {
                                text: 'Le dices que no tienes tiempo para ayudarle',
                                score: 1,
                                feedback: 'Esto no es humilde. Ayudar a otros es parte del crecimiento personal.'
                            }
                        ]
                    }
                ]
            },
            'criticism': {
                title: 'Recibir Cr√≠ticas',
                description: 'Recibiste feedback negativo sobre tu desempe√±o en una presentaci√≥n importante. Tu supervisor mencion√≥ que tu enfoque fue demasiado agresivo.',
                questions: [
                    {
                        question: '¬øC√≥mo reaccionas al recibir esta cr√≠tica?',
                        options: [
                            {
                                text: 'Escuchas atentamente y pides ejemplos espec√≠ficos para mejorar',
                                score: 10,
                                feedback: 'Excelente! La humildad te permite aprender de las cr√≠ticas constructivas.'
                            },
                            {
                                text: 'Aceptas la cr√≠tica pero te sientes un poco herido',
                                score: 7,
                                feedback: 'Es normal sentirse herido, pero es importante no dejar que eso te impida aprender.'
                            },
                            {
                                text: 'Defiendes tu enfoque y explicas por qu√© crees que fue correcto',
                                score: 4,
                                feedback: 'Defender tu posici√≥n est√° bien, pero aseg√∫rate de escuchar realmente la cr√≠tica.'
                            },
                            {
                                text: 'Te sientes atacado y rechazas la cr√≠tica',
                                score: 1,
                                feedback: 'Rechazar la cr√≠tica no te permite crecer. La humildad incluye aceptar que no siempre tienes raz√≥n.'
                            }
                        ]
                    }
                ]
            }
        };

        function selectScenario(scenarioId) {
            currentScenario = scenarioId;
            const scenario = scenarios[scenarioId];
            
            // Remover selecci√≥n anterior
            document.querySelectorAll('.scenario-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Seleccionar nuevo escenario
            event.currentTarget.classList.add('selected');
            
            // Mostrar detalles
            document.getElementById('scenario-details').style.display = 'block';
            document.getElementById('scenario-description').innerHTML = `
                <h4>${scenario.title}</h4>
                <p>${scenario.description}</p>
            `;
            
            document.getElementById('total-questions').textContent = scenario.questions.length;
            document.getElementById('start-btn').style.display = 'inline-block';
        }

        function startSimulation() {
            if (!currentScenario) return;
            
            currentQuestion = 0;
            score = 0;
            selectedResponse = null;
            
            document.getElementById('question-section').style.display = 'block';
            document.getElementById('start-btn').style.display = 'none';
            
            showQuestion();
        }

        function showQuestion() {
            const scenario = scenarios[currentScenario];
            const question = scenario.questions[currentQuestion];
            
            document.getElementById('question-text').innerHTML = `
                <h4>Pregunta ${currentQuestion + 1}</h4>
                <p>${question.question}</p>
            `;
            
            const optionsHtml = question.options.map((option, index) => `
                <div class="response-option" onclick="selectResponse(${index})">
                    <h4>Opci√≥n ${index + 1}</h4>
                    <p>${option.text}</p>
                    <div class="consequence">Puntuaci√≥n: ${option.score} puntos</div>
                </div>
            `).join('');
            
            document.getElementById('response-options').innerHTML = optionsHtml;
            document.getElementById('submit-btn').style.display = 'none';
            
            // Actualizar progreso
            const progress = ((currentQuestion + 1) / scenario.questions.length) * 100;
            document.getElementById('scenario-progress').style.width = `${progress}%`;
            document.getElementById('current-question').textContent = currentQuestion + 1;
        }

        function selectResponse(index) {
            // Remover selecci√≥n anterior
            document.querySelectorAll('.response-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Seleccionar nueva opci√≥n
            event.currentTarget.classList.add('selected');
            selectedResponse = index;
            
            document.getElementById('submit-btn').style.display = 'inline-block';
        }

        function submitResponse() {
            if (selectedResponse === null) {
                alert('Por favor selecciona una respuesta.');
                return;
            }
            
            const scenario = scenarios[currentScenario];
            const question = scenario.questions[currentQuestion];
            const selectedOption = question.options[selectedResponse];
            
            score += selectedOption.score;
            
            // Mostrar feedback
            const feedback = document.createElement('div');
            feedback.className = 'feedback';
            feedback.innerHTML = `
                <h4>Feedback</h4>
                <p>${selectedOption.feedback}</p>
            `;
            document.getElementById('question-text').appendChild(feedback);
            
            // Ocultar opciones y bot√≥n
            document.getElementById('response-options').style.display = 'none';
            document.getElementById('submit-btn').style.display = 'none';
            
            // Mostrar siguiente pregunta o resultados
            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < scenario.questions.length) {
                    showQuestion();
                } else {
                    showResults();
                }
            }, 2000);
        }

        function showResults() {
            const scenario = scenarios[currentScenario];
            const maxScore = scenario.questions.reduce((sum, q) => sum + Math.max(...q.options.map(o => o.score)), 0);
            const percentage = (score / maxScore) * 100;
            
            let level = 'Principiante';
            if (percentage >= 90) level = 'Maestro de la Humildad';
            else if (percentage >= 80) level = 'Experto en Humildad';
            else if (percentage >= 70) level = 'Avanzado en Humildad';
            else if (percentage >= 60) level = 'Intermedio en Humildad';
            else if (percentage >= 50) level = 'Principiante en Humildad';
            else level = 'Necesita Pr√°ctica';
            
            document.getElementById('final-score').textContent = score;
            document.getElementById('humility-level').textContent = level;
            document.getElementById('score-display').style.display = 'block';
            
            const results = `
                <div class="score-display">
                    <h2>Resultados del Escenario: ${scenario.title}</h2>
                    <div class="score">${score}/${maxScore}</div>
                    <div class="level">${level}</div>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${percentage}%"></div>
                </div>
                <p>Puntuaci√≥n: ${Math.round(percentage)}%</p>
                
                <div class="feedback">
                    <h4>An√°lisis de tu Desempe√±o</h4>
                    <p>${getPerformanceAnalysis(percentage)}</p>
                </div>
                
                <div class="feedback">
                    <h4>Recomendaciones</h4>
                    <p>${getRecommendations(percentage)}</p>
                </div>
            `;
            
            document.getElementById('results-content').innerHTML = results;
            document.getElementById('results').style.display = 'block';
            document.getElementById('save-btn').style.display = 'inline-block';
            document.getElementById('stats-btn').style.display = 'inline-block';
            
            // Guardar resultado
            saveSimulationResult(scenario.title, score, maxScore, percentage, level);
        }

        function getPerformanceAnalysis(percentage) {
            if (percentage >= 90) {
                return 'Excelente! Demuestras una comprensi√≥n profunda de la humildad y la aplicas de manera consistente.';
            } else if (percentage >= 80) {
                return 'Muy bien! Tienes una buena comprensi√≥n de la humildad y la practicas regularmente.';
            } else if (percentage >= 70) {
                return 'Bien! Entiendes los conceptos de humildad, pero hay espacio para mejorar en la pr√°ctica.';
            } else if (percentage >= 60) {
                return 'Regular. Tienes algunas ideas sobre la humildad, pero necesitas practicar m√°s.';
            } else {
                return 'Necesitas trabajar m√°s en desarrollar la humildad. Considera leer m√°s sobre el tema y practicar regularmente.';
            }
        }

        function getRecommendations(percentage) {
            if (percentage >= 80) {
                return 'Contin√∫a practicando la humildad en situaciones reales. Considera ense√±ar a otros sobre lo que has aprendido.';
            } else if (percentage >= 60) {
                return 'Practica la humildad diariamente. Busca oportunidades para ser m√°s humilde en tu vida cotidiana.';
            } else {
                return 'Lee m√°s sobre la humildad, practica la meditaci√≥n y busca mentores que puedan guiarte en tu desarrollo personal.';
            }
        }

        function saveSimulationResult(title, score, maxScore, percentage, level) {
            const result = {
                scenario: title,
                score: score,
                maxScore: maxScore,
                percentage: percentage,
                level: level,
                timestamp: new Date().toISOString()
            };
            
            simulationData.push(result);
            localStorage.setItem('humilitySimulation', JSON.stringify(simulationData));
        }

        function saveResults() {
            alert('¬°Resultados guardados exitosamente!');
        }

        function viewStats() {
            const totalScenarios = simulationData.length;
            const averageScore = simulationData.length > 0 ? 
                Math.round(simulationData.reduce((sum, r) => sum + r.percentage, 0) / simulationData.length) : 0;
            const bestScore = simulationData.length > 0 ? 
                Math.max(...simulationData.map(r => r.percentage)) : 0;
            const currentLevel = simulationData.length > 0 ? 
                simulationData[simulationData.length - 1].level : 'Principiante';
            
            document.getElementById('completed-scenarios').textContent = totalScenarios;
            document.getElementById('average-score').textContent = `${averageScore}%`;
            document.getElementById('best-score').textContent = `${bestScore}%`;
            document.getElementById('current-level').textContent = currentLevel;
            
            document.getElementById('stats').style.display = 'grid';
        }

        function resetSimulator() {
            if (confirm('¬øEst√°s seguro de que quieres reiniciar el simulador?')) {
                currentScenario = null;
                currentQuestion = 0;
                selectedResponse = null;
                score = 0;
                
                document.getElementById('scenario-details').style.display = 'none';
                document.getElementById('question-section').style.display = 'none';
                document.getElementById('results').style.display = 'none';
                document.getElementById('score-display').style.display = 'none';
                document.getElementById('stats').style.display = 'none';
                document.getElementById('start-btn').style.display = 'none';
                document.getElementById('save-btn').style.display = 'none';
                document.getElementById('stats-btn').style.display = 'none';
                
                // Remover selecciones
                document.querySelectorAll('.scenario-card').forEach(card => {
                    card.classList.remove('selected');
                });
            }
        }
    </script>
</body>
</html>
