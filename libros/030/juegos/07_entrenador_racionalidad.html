<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrenador de Racionalidad</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .game-area {
            padding: 40px;
        }

        .exercise {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .exercise h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .exercise p {
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .exercise-content {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .exercise-content h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .exercise-content p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .exercise-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .exercise-option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .exercise-option:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .exercise-option.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .exercise-option.correct {
            border-color: #28a745;
            background: #d4edda;
        }

        .exercise-option.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
        }

        .exercise-option h5 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .exercise-option p {
            color: #666;
            font-size: 0.9em;
        }

        .rationality-tips {
            background: #e3f2fd;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            display: none;
        }

        .rationality-tips.show {
            display: block;
        }

        .rationality-tips h4 {
            color: #1976d2;
            margin-bottom: 15px;
        }

        .tip {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid #1976d2;
        }

        .tip h5 {
            color: #1976d2;
            margin-bottom: 10px;
        }

        .tip p {
            color: #666;
            line-height: 1.6;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .score {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            margin-bottom: 30px;
        }

        .score h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .score .score-value {
            font-size: 2em;
            font-weight: bold;
            color: #28a745;
        }

        .progress {
            background: #e9ecef;
            border-radius: 10px;
            height: 10px;
            margin-bottom: 20px;
        }

        .progress-bar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .achievements {
            background: #fff3cd;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            display: none;
        }

        .achievements.show {
            display: block;
        }

        .achievement {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .achievement .icon {
            font-size: 1.5em;
            margin-right: 10px;
        }

        .rationality-score {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .rationality-score h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .score-item {
            background: white;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border-left: 4px solid #667eea;
        }

        .score-item h5 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .score-item .score-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #28a745;
        }

        .score-item .score-value.low {
            color: #dc3545;
        }

        .score-item .score-value.medium {
            color: #ffc107;
        }

        .score-item .score-value.high {
            color: #28a745;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .game-area {
                padding: 20px;
            }
            
            .exercise-options {
                grid-template-columns: 1fr;
            }
            
            .score-breakdown {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>游 Entrenador de Racionalidad</h1>
            <p>Desarrolla tu pensamiento cr칤tico y toma de decisiones racionales</p>
        </div>

        <div class="game-area">
            <div class="score">
                <h3>Puntuaci칩n</h3>
                <div class="score-value" id="score">0</div>
            </div>

            <div class="progress">
                <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
            </div>

            <div id="exercise-container">
                <!-- Los ejercicios se cargar치n din치micamente -->
            </div>

            <div class="rationality-tips" id="rationality-tips">
                <h4>Consejos de Racionalidad</h4>
                <div id="tips-content"></div>
            </div>

            <div class="controls">
                <button class="btn" id="next-btn" onclick="nextExercise()" disabled>Siguiente</button>
                <button class="btn" id="restart-btn" onclick="restartGame()">Reiniciar</button>
            </div>

            <div class="achievements" id="achievements">
                <h3>游끥 Logros Desbloqueados</h3>
                <div id="achievements-list"></div>
            </div>
        </div>
    </div>

    <script>
        let currentExercise = 0;
        let score = 0;
        let selectedOption = null;
        let exercises = [
            {
                title: "Ejercicio de L칩gica",
                description: "Resuelve el siguiente problema l칩gico: Si todos los p치jaros pueden volar y los ping칲inos son p치jaros, 쯣ueden los ping칲inos volar?",
                content: "Analiza la siguiente afirmaci칩n: 'Todos los p치jaros pueden volar. Los ping칲inos son p치jaros. Por lo tanto, los ping칲inos pueden volar.'",
                options: [
                    {
                        text: "Verdadero",
                        description: "La l칩gica es correcta",
                        correct: false,
                        explanation: "Aunque la l칩gica formal es correcta, la premisa 'todos los p치jaros pueden volar' es falsa en la realidad."
                    },
                    {
                        text: "Falso",
                        description: "La premisa es incorrecta",
                        correct: true,
                        explanation: "La premisa 'todos los p치jaros pueden volar' es falsa. Los ping칲inos, avestruces y kiwis son p치jaros que no pueden volar."
                    },
                    {
                        text: "Depende del contexto",
                        description: "La respuesta depende de c칩mo se defina 'p치jaro'",
                        correct: false,
                        explanation: "Aunque el contexto puede ser importante, la premisa general sobre todos los p치jaros es objetivamente falsa."
                    }
                ],
                tips: [
                    {
                        title: "Verificar Premisas",
                        description: "Siempre verifica si las premisas son verdaderas antes de aplicar la l칩gica."
                    },
                    {
                        title: "Pensamiento Cr칤tico",
                        description: "No aceptes afirmaciones generales sin evidencia. Busca contraejemplos."
                    },
                    {
                        title: "L칩gica vs. Realidad",
                        description: "La l칩gica formal puede ser correcta pero basarse en premisas falsas."
                    }
                ],
                maxScore: 100
            },
            {
                title: "Ejercicio de Probabilidad",
                description: "Calcula la probabilidad correcta en el siguiente escenario:",
                content: "En una ciudad, el 1% de la poblaci칩n tiene una enfermedad rara. Una prueba m칠dica tiene 99% de precisi칩n (detecta correctamente el 99% de los casos positivos y el 99% de los casos negativos). Si una persona da positivo en la prueba, 쯖u치l es la probabilidad de que realmente tenga la enfermedad?",
                options: [
                    {
                        text: "99%",
                        description: "La precisi칩n de la prueba es 99%",
                        correct: false,
                        explanation: "Esta es una respuesta com칰n pero incorrecta. No consideras la prevalencia de la enfermedad."
                    },
                    {
                        text: "50%",
                        description: "La probabilidad es aproximadamente 50%",
                        correct: true,
                        explanation: "Usando el teorema de Bayes: P(Enfermedad|Positivo) = P(Positivo|Enfermedad) 칑 P(Enfermedad) / P(Positivo) = 0.99 칑 0.01 / (0.99 칑 0.01 + 0.01 칑 0.99) = 0.5"
                    },
                    {
                        text: "1%",
                        description: "La probabilidad es igual a la prevalencia",
                        correct: false,
                        explanation: "Esta respuesta ignora la informaci칩n de la prueba. La prueba proporciona informaci칩n adicional."
                    }
                ],
                tips: [
                    {
                        title: "Teorema de Bayes",
                        description: "Usa el teorema de Bayes para calcular probabilidades condicionales correctamente."
                    },
                    {
                        title: "Considera la Prevalencia",
                        description: "La prevalencia de la enfermedad en la poblaci칩n es crucial para el c치lculo."
                    },
                    {
                        title: "Falsos Positivos",
                        description: "Incluso con pruebas muy precisas, los falsos positivos pueden ser comunes si la enfermedad es rara."
                    }
                ],
                maxScore: 100
            },
            {
                title: "Ejercicio de Sesgos Cognitivos",
                description: "Identifica el sesgo cognitivo en el siguiente escenario:",
                content: "Mar칤a est치 considerando invertir en una nueva empresa. Su amigo le dice que 'todas las empresas de tecnolog칤a son una buena inversi칩n' y le muestra solo los casos exitosos que conoce. Mar칤a decide invertir bas치ndose en esta informaci칩n.",
                options: [
                    {
                        text: "Sesgo de Confirmaci칩n",
                        description: "Busca informaci칩n que confirme su creencia",
                        correct: true,
                        explanation: "Mar칤a est치 buscando solo informaci칩n que confirme su creencia sobre las empresas de tecnolog칤a, ignorando casos de fracaso."
                    },
                    {
                        text: "Sesgo de Autoridad",
                        description: "Conf칤a en la opini칩n de expertos",
                        correct: false,
                        explanation: "Aunque su amigo puede ser una autoridad, el problema principal es la b칰squeda selectiva de informaci칩n."
                    },
                    {
                        text: "Sesgo de Disponibilidad",
                        description: "Sobreestima la probabilidad bas치ndose en ejemplos recientes",
                        correct: false,
                        explanation: "El sesgo de disponibilidad se refiere a sobreestimar probabilidades bas치ndose en ejemplos que vienen f치cilmente a la mente."
                    }
                ],
                tips: [
                    {
                        title: "B칰squeda de Informaci칩n",
                        description: "Busca activamente informaci칩n que contradiga tus creencias iniciales."
                    },
                    {
                        title: "Muestra Completa",
                        description: "Aseg칰rate de ver tanto los casos exitosos como los fracasos."
                    },
                    {
                        title: "Pensamiento Cr칤tico",
                        description: "Cuestiona las fuentes de informaci칩n y busca evidencia objetiva."
                    }
                ],
                maxScore: 100
            },
            {
                title: "Ejercicio de Razonamiento",
                description: "Resuelve el siguiente problema de razonamiento:",
                content: "En una empresa, el 60% de los empleados son mujeres y el 40% son hombres. El 30% de las mujeres y el 20% de los hombres tienen un t칤tulo universitario. Si seleccionas un empleado al azar y tiene un t칤tulo universitario, 쯖u치l es la probabilidad de que sea mujer?",
                options: [
                    {
                        text: "60%",
                        description: "La probabilidad es igual a la proporci칩n de mujeres",
                        correct: false,
                        explanation: "Esta respuesta ignora la informaci칩n sobre los t칤tulos universitarios."
                    },
                    {
                        text: "69%",
                        description: "La probabilidad es aproximadamente 69%",
                        correct: true,
                        explanation: "Usando el teorema de Bayes: P(Mujer|T칤tulo) = P(T칤tulo|Mujer) 칑 P(Mujer) / P(T칤tulo) = 0.30 칑 0.60 / (0.30 칑 0.60 + 0.20 칑 0.40) = 0.18 / 0.26 = 0.69"
                    },
                    {
                        text: "30%",
                        description: "La probabilidad es igual a la proporci칩n de mujeres con t칤tulo",
                        correct: false,
                        explanation: "Esta respuesta confunde la probabilidad condicional con la probabilidad marginal."
                    }
                ],
                tips: [
                    {
                        title: "Probabilidad Condicional",
                        description: "Usa el teorema de Bayes para calcular probabilidades condicionales."
                    },
                    {
                        title: "Informaci칩n Relevante",
                        description: "Considera toda la informaci칩n disponible, no solo una parte."
                    },
                    {
                        title: "Verificaci칩n",
                        description: "Verifica tu respuesta calculando las probabilidades paso a paso."
                    }
                ],
                maxScore: 100
            },
            {
                title: "Ejercicio de Pensamiento Cr칤tico",
                description: "Eval칰a la siguiente afirmaci칩n:",
                content: "Un estudio muestra que las personas que toman suplementos vitam칤nicos viven en promedio 5 a침os m치s que las que no los toman. Por lo tanto, tomar suplementos vitam칤nicos prolonga la vida.",
                options: [
                    {
                        text: "Verdadero",
                        description: "La correlaci칩n demuestra causalidad",
                        correct: false,
                        explanation: "La correlaci칩n no implica causalidad. Puede haber otros factores que expliquen la diferencia."
                    },
                    {
                        text: "Falso",
                        description: "La correlaci칩n no demuestra causalidad",
                        correct: true,
                        explanation: "La correlaci칩n no implica causalidad. Las personas que toman suplementos pueden tener otros h치bitos saludables o mayor acceso a atenci칩n m칠dica."
                    },
                    {
                        text: "Incierto",
                        description: "Se necesitan m치s estudios para determinar la causalidad",
                        correct: false,
                        explanation: "Aunque se necesitan m치s estudios, la afirmaci칩n actual es incorrecta porque asume causalidad bas치ndose solo en correlaci칩n."
                    }
                ],
                tips: [
                    {
                        title: "Correlaci칩n vs. Causalidad",
                        description: "Recuerda que la correlaci칩n no implica causalidad. Busca otros factores explicativos."
                    },
                    {
                        title: "Variables de Confusi칩n",
                        description: "Considera variables de confusi칩n que puedan explicar la correlaci칩n observada."
                    },
                    {
                        title: "Dise침o de Estudios",
                        description: "Para establecer causalidad, se necesitan estudios experimentales controlados."
                    }
                ],
                maxScore: 100
            }
        ];

        function loadExercise() {
            const exercise = exercises[currentExercise];
            const container = document.getElementById('exercise-container');
            
            container.innerHTML = `
                <div class="exercise">
                    <h3>${exercise.title}</h3>
                    <p>${exercise.description}</p>
                    <div class="exercise-content">
                        <h4>Problema</h4>
                        <p>${exercise.content}</p>
                        <div class="exercise-options">
                            ${exercise.options.map((option, index) => `
                                <div class="exercise-option" onclick="selectOption(${index})">
                                    <h5>${option.text}</h5>
                                    <p>${option.description}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('rationality-tips').classList.remove('show');
            document.getElementById('next-btn').disabled = true;
            selectedOption = null;
        }

        function selectOption(index) {
            if (selectedOption !== null) return;
            
            selectedOption = index;
            const options = document.querySelectorAll('.exercise-option');
            options.forEach((option, i) => {
                option.classList.remove('selected');
                if (i === index) {
                    option.classList.add('selected');
                }
            });
            
            document.getElementById('next-btn').disabled = false;
        }

        function nextExercise() {
            if (selectedOption === null) return;
            
            const exercise = exercises[currentExercise];
            const selected = exercise.options[selectedOption];
            const options = document.querySelectorAll('.exercise-option');
            
            // Mostrar respuestas correctas/incorrectas
            options.forEach((option, index) => {
                const optionData = exercise.options[index];
                if (optionData.correct) {
                    option.classList.add('correct');
                } else if (index === selectedOption) {
                    option.classList.add('incorrect');
                }
            });
            
            // Mostrar consejos de racionalidad
            const rationalityTips = document.getElementById('rationality-tips');
            const tipsContent = document.getElementById('tips-content');
            
            tipsContent.innerHTML = `
                <div class="tip">
                    <h5>Explicaci칩n</h5>
                    <p>${selected.explanation}</p>
                </div>
                ${exercise.tips.map(tip => `
                    <div class="tip">
                        <h5>${tip.title}</h5>
                        <p>${tip.description}</p>
                    </div>
                `).join('')}
            `;
            
            rationalityTips.classList.add('show');
            
            // Actualizar puntuaci칩n
            if (selected.correct) {
                score += exercise.maxScore;
                document.getElementById('score').textContent = score;
            }
            
            // Actualizar progreso
            const progress = ((currentExercise + 1) / exercises.length) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';
            
            // Verificar logros
            checkAchievements();
            
            // Preparar siguiente ejercicio
            currentExercise++;
            if (currentExercise < exercises.length) {
                document.getElementById('next-btn').textContent = 'Siguiente';
            } else {
                document.getElementById('next-btn').textContent = 'Finalizar';
                document.getElementById('next-btn').onclick = finishGame;
            }
        }

        function checkAchievements() {
            const achievements = document.getElementById('achievements');
            const achievementsList = document.getElementById('achievements-list');
            let newAchievements = [];
            
            if (score >= 200 && !localStorage.getItem('achievement_200')) {
                newAchievements.push('游 Pensador Racional: Obtuviste 200 puntos');
                localStorage.setItem('achievement_200', 'true');
            }
            
            if (score >= 400 && !localStorage.getItem('achievement_400')) {
                newAchievements.push('游꿢 Analista Cr칤tico: Obtuviste 400 puntos');
                localStorage.setItem('achievement_400', 'true');
            }
            
            if (score >= 500 && !localStorage.getItem('achievement_500')) {
                newAchievements.push('游끥 Maestro de Racionalidad: Obtuviste 500 puntos');
                localStorage.setItem('achievement_500', 'true');
            }
            
            if (newAchievements.length > 0) {
                achievementsList.innerHTML = newAchievements.map(achievement => 
                    `<div class="achievement">
                        <span class="icon">${achievement.split(' ')[0]}</span>
                        <span>${achievement}</span>
                    </div>`
                ).join('');
                achievements.classList.add('show');
            }
        }

        function finishGame() {
            alert(`춰Entrenamiento completado! Tu puntuaci칩n final es: ${score} puntos`);
            restartGame();
        }

        function restartGame() {
            currentExercise = 0;
            score = 0;
            selectedOption = null;
            document.getElementById('score').textContent = '0';
            document.getElementById('progress-bar').style.width = '0%';
            document.getElementById('next-btn').textContent = 'Siguiente';
            document.getElementById('next-btn').onclick = nextExercise;
            document.getElementById('achievements').classList.remove('show');
            loadExercise();
        }

        // Cargar el primer ejercicio
        loadExercise();
    </script>
</body>
</html>
