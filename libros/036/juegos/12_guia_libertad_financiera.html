<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu√≠a de Libertad Financiera - Money Mindset</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        .game-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #e74c3c;
        }
        .guide-box {
            background: #fff;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        .input-group {
            margin: 15px 0;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #2c3e50;
        }
        input[type="number"], input[type="range"], select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 5px;
            font-size: 16px;
        }
        input[type="range"] {
            margin-top: 10px;
        }
        .btn {
            background: linear-gradient(45deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,123,255,0.3);
        }
        .btn-success {
            background: linear-gradient(45deg, #28a745, #1e7e34);
        }
        .result-box {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }
        .chart-container {
            background: #fff;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .freedom-level {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .milestone-tracker {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .action-plan {
            background: #d4edda;
            border: 2px solid #28a745;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .progress-bar {
            background: #e9ecef;
            border-radius: 10px;
            height: 20px;
            margin: 10px 0;
            overflow: hidden;
        }
        .progress-fill {
            background: linear-gradient(90deg, #28a745, #20c997);
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        .freedom-stage {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            transition: all 0.3s ease;
        }
        .freedom-stage.current {
            border-color: #007bff;
            background: #e3f2fd;
        }
        .freedom-stage.completed {
            border-color: #28a745;
            background: #d4edda;
        }
        .freedom-stage.locked {
            border-color: #6c757d;
            background: #f8f9fa;
            opacity: 0.6;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .comparison-table th,
        .comparison-table td {
            border: 1px solid #e9ecef;
            padding: 12px;
            text-align: left;
        }
        .comparison-table th {
            background: #f8f9fa;
            font-weight: bold;
        }
        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üïäÔ∏è Gu√≠a de Libertad Financiera</h1>
        
        <div class="game-section">
            <h2>üéØ Objetivo del Juego</h2>
            <p>Descubre tu camino hacia la libertad financiera siguiendo un plan paso a paso que te llevar√° desde la dependencia financiera hasta la independencia total.</p>
        </div>

        <div class="guide-box">
            <h3>üí∞ Situaci√≥n Financiera Actual</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <div class="input-group">
                    <label for="currentAge">Edad Actual:</label>
                    <input type="number" id="currentAge" value="30" min="18" max="80">
                </div>
                <div class="input-group">
                    <label for="annualIncome">Ingresos Anuales:</label>
                    <input type="number" id="annualIncome" value="75000" min="10000" step="1000">
                </div>
                <div class="input-group">
                    <label for="monthlyExpenses">Gastos Mensuales:</label>
                    <input type="number" id="monthlyExpenses" value="4000" min="500" step="100">
                </div>
                <div class="input-group">
                    <label for="currentSavings">Ahorros Actuales:</label>
                    <input type="number" id="currentSavings" value="25000" min="0" step="1000">
                </div>
                <div class="input-group">
                    <label for="debt">Deudas Totales:</label>
                    <input type="number" id="debt" value="50000" min="0" step="1000">
                </div>
                <div class="input-group">
                    <label for="investmentReturn">Retorno de Inversi√≥n Esperado (%):</label>
                    <input type="range" id="investmentReturn" min="3" max="12" value="7" step="0.5">
                    <span id="returnValue">7%</span>
                </div>
            </div>
        </div>

        <div class="guide-box">
            <h3>üéØ Definici√≥n de Libertad Financiera</h3>
            <p>Selecciona tu definici√≥n personal de libertad financiera:</p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <div class="freedom-stage" onclick="selectFreedomDefinition('basic')">
                    <h4>üõ°Ô∏è Libertad B√°sica</h4>
                    <p>Cubrir gastos b√°sicos sin trabajar</p>
                    <p><strong>Multiplicador:</strong> 12x gastos anuales</p>
                </div>
                <div class="freedom-stage" onclick="selectFreedomDefinition('comfortable')">
                    <h4>üè† Libertad C√≥moda</h4>
                    <p>Mantener estilo de vida actual</p>
                    <p><strong>Multiplicador:</strong> 25x gastos anuales</p>
                </div>
                <div class="freedom-stage" onclick="selectFreedomDefinition('abundant')">
                    <h4>üíé Libertad Abundante</h4>
                    <p>Vivir sin restricciones financieras</p>
                    <p><strong>Multiplicador:</strong> 50x gastos anuales</p>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin: 30px 0;">
            <button class="btn btn-success" onclick="calculateFreedomPath()">üïäÔ∏è Calcular Camino hacia la Libertad</button>
        </div>

        <div id="results" style="display: none;">
            <div class="result-box">
                <h3>üïäÔ∏è Tu Camino hacia la Libertad Financiera</h3>
                <div id="freedomSummary"></div>
            </div>
            
            <div class="chart-container">
                <h3>üìä Etapas de Libertad Financiera</h3>
                <div id="freedomStages"></div>
            </div>
            
            <div class="freedom-level">
                <h3>üéØ Nivel Actual de Libertad</h3>
                <div id="currentFreedomLevel"></div>
            </div>
            
            <div class="milestone-tracker">
                <h3>üèÜ Hitos de Libertad</h3>
                <div id="freedomMilestones"></div>
            </div>
            
            <div class="action-plan">
                <h3>üìã Plan de Acci√≥n</h3>
                <div id="freedomActionPlan"></div>
            </div>
        </div>

        <div class="game-section">
            <h2>üí° Los 7 Niveles de Libertad Financiera</h2>
            <ul>
                <li><strong>Nivel 0 - Dependencia:</strong> Gastos > Ingresos</li>
                <li><strong>Nivel 1 - Solvencia:</strong> Gastos = Ingresos</li>
                <li><strong>Nivel 2 - Estabilidad:</strong> 3-6 meses de gastos ahorrados</li>
                <li><strong>Nivel 3 - Libertad de Deudas:</strong> Sin deudas de consumo</li>
                <li><strong>Nivel 4 - Libertad de Seguridad:</strong> 2 a√±os de gastos invertidos</li>
                <li><strong>Nivel 5 - Libertad de Tiempo:</strong> Ingresos pasivos = gastos</li>
                <li><strong>Nivel 6 - Libertad Absoluta:</strong> Riqueza ilimitada</li>
            </ul>
        </div>
    </div>

    <script>
        // Actualizar valor del slider
        document.getElementById('investmentReturn').addEventListener('input', function() {
            document.getElementById('returnValue').textContent = this.value + '%';
        });

        let selectedFreedomDefinition = 'comfortable';

        function selectFreedomDefinition(definition) {
            selectedFreedomDefinition = definition;
            
            // Remover selecci√≥n anterior
            document.querySelectorAll('.freedom-stage').forEach(stage => stage.classList.remove('current'));
            
            // Seleccionar nueva etapa
            event.target.closest('.freedom-stage').classList.add('current');
        }

        function calculateFreedomPath() {
            const currentAge = parseInt(document.getElementById('currentAge').value);
            const annualIncome = parseFloat(document.getElementById('annualIncome').value);
            const monthlyExpenses = parseFloat(document.getElementById('monthlyExpenses').value);
            const currentSavings = parseFloat(document.getElementById('currentSavings').value);
            const debt = parseFloat(document.getElementById('debt').value);
            const investmentReturn = parseFloat(document.getElementById('investmentReturn').value) / 100;
            
            const annualExpenses = monthlyExpenses * 12;
            const netWorth = currentSavings - debt;
            
            // Calcular meta de libertad financiera
            const freedomMultipliers = {
                'basic': 12,
                'comfortable': 25,
                'abundant': 50
            };
            
            const freedomTarget = annualExpenses * freedomMultipliers[selectedFreedomDefinition];
            
            // Calcular proyecci√≥n
            const projection = calculateFreedomProjection(
                currentAge, annualIncome, annualExpenses, netWorth, 
                investmentReturn, freedomTarget
            );
            
            // Mostrar resultados
            displayResults(projection, freedomTarget, annualExpenses);
            document.getElementById('results').style.display = 'block';
        }

        function calculateFreedomProjection(age, income, expenses, netWorth, returnRate, target) {
            const projection = [];
            let currentWealth = netWorth;
            const monthlySavings = (income - expenses) / 12;
            
            for (let year = 0; year <= 65 - age; year++) {
                if (year > 0) {
                    // Agregar contribuciones anuales
                    currentWealth += monthlySavings * 12;
                    // Aplicar crecimiento
                    currentWealth *= (1 + returnRate);
                }
                
                projection.push({
                    year: year,
                    age: age + year,
                    wealth: currentWealth,
                    monthlySavings: monthlySavings
                });
            }
            
            return projection;
        }

        function displayResults(projection, freedomTarget, annualExpenses) {
            const finalWealth = projection[projection.length - 1].wealth;
            const yearsToFreedom = projection.find(p => p.wealth >= freedomTarget);
            const yearsToReach = yearsToFreedom ? yearsToFreedom.year : 'No alcanzable';
            
            // Mostrar resumen
            document.getElementById('freedomSummary').innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    <div>
                        <h4>üéØ Meta de Libertad</h4>
                        <p style="font-size: 1.5em; color: #007bff;">$${freedomTarget.toLocaleString()}</p>
                    </div>
                    <div>
                        <h4>‚è∞ A√±os para Alcanzar</h4>
                        <p style="font-size: 1.5em; color: #28a745;">${yearsToReach}</p>
                    </div>
                    <div>
                        <h4>üí∞ Patrimonio Final</h4>
                        <p style="font-size: 1.5em; color: #6f42c1;">$${finalWealth.toLocaleString()}</p>
                    </div>
                    <div>
                        <h4>üìä Progreso Actual</h4>
                        <p style="font-size: 1.5em; color: #fd7e14;">${Math.round((projection[0].wealth / freedomTarget) * 100)}%</p>
                    </div>
                </div>
            `;
            
            // Mostrar etapas de libertad
            displayFreedomStages(projection, freedomTarget, annualExpenses);
            
            // Mostrar nivel actual
            displayCurrentFreedomLevel(projection[0].wealth, annualExpenses);
            
            // Mostrar hitos
            displayFreedomMilestones(projection, freedomTarget);
            
            // Mostrar plan de acci√≥n
            displayFreedomActionPlan(projection, freedomTarget, annualExpenses);
        }

        function displayFreedomStages(projection, freedomTarget, annualExpenses) {
            const stagesDiv = document.getElementById('freedomStages');
            
            const stages = [
                { name: 'Dependencia', multiplier: 0, description: 'Gastos > Ingresos' },
                { name: 'Solvencia', multiplier: 1, description: 'Gastos = Ingresos' },
                { name: 'Estabilidad', multiplier: 0.5, description: '6 meses de gastos ahorrados' },
                { name: 'Libertad de Deudas', multiplier: 0, description: 'Sin deudas de consumo' },
                { name: 'Libertad de Seguridad', multiplier: 2, description: '2 a√±os de gastos invertidos' },
                { name: 'Libertad de Tiempo', multiplier: 25, description: 'Ingresos pasivos = gastos' },
                { name: 'Libertad Absoluta', multiplier: 50, description: 'Riqueza ilimitada' }
            ];
            
            stagesDiv.innerHTML = `
                <div style="margin: 20px 0;">
                    ${stages.map((stage, index) => {
                        const stageTarget = stage.multiplier * annualExpenses;
                        const achievementYear = projection.find(p => p.wealth >= stageTarget);
                        const isCurrentStage = projection[0].wealth >= stageTarget * 0.8 && projection[0].wealth < stageTarget * 1.2;
                        const isCompleted = projection[0].wealth >= stageTarget;
                        
                        let stageClass = 'freedom-stage';
                        if (isCompleted) stageClass += ' completed';
                        else if (isCurrentStage) stageClass += ' current';
                        else if (stage.multiplier > 0 && projection[0].wealth < stageTarget * 0.5) stageClass += ' locked';
                        
                        return `
                            <div class="${stageClass}">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <h4>Nivel ${index}: ${stage.name}</h4>
                                        <p>${stage.description}</p>
                                        <p><strong>Meta:</strong> $${stageTarget.toLocaleString()}</p>
                                    </div>
                                    <div style="text-align: right;">
                                        <p><strong>A√±os para alcanzar:</strong> ${achievementYear ? achievementYear.year : 'No alcanzable'}</p>
                                        ${isCompleted ? '<p style="color: #28a745;">‚úÖ Completado</p>' : 
                                          isCurrentStage ? '<p style="color: #007bff;">üéØ En Progreso</p>' : 
                                          '<p style="color: #6c757d;">‚è≥ Pendiente</p>'}
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        function displayCurrentFreedomLevel(currentWealth, annualExpenses) {
            const levelDiv = document.getElementById('currentFreedomLevel');
            
            let currentLevel, levelDescription, levelColor;
            const wealthRatio = currentWealth / annualExpenses;
            
            if (wealthRatio < 0) {
                currentLevel = 'Dependencia';
                levelDescription = 'Tus gastos exceden tus ingresos. Enf√≥cate en reducir gastos y aumentar ingresos.';
                levelColor = '#dc3545';
            } else if (wealthRatio < 0.5) {
                currentLevel = 'Solvencia';
                levelDescription = 'Tus ingresos cubren tus gastos. Construye un fondo de emergencia.';
                levelColor = '#ffc107';
            } else if (wealthRatio < 2) {
                currentLevel = 'Estabilidad';
                levelDescription = 'Tienes estabilidad financiera. Enf√≥cate en eliminar deudas.';
                levelColor = '#17a2b8';
            } else if (wealthRatio < 25) {
                currentLevel = 'Libertad de Seguridad';
                levelDescription = 'Tienes seguridad financiera. Invierte para el crecimiento.';
                levelColor = '#007bff';
            } else {
                currentLevel = 'Libertad de Tiempo';
                levelDescription = '¬°Felicitaciones! Has alcanzado la libertad financiera.';
                levelColor = '#28a745';
            }
            
            levelDiv.innerHTML = `
                <div style="text-align: center; margin: 20px 0;">
                    <h3 style="color: ${levelColor};">Nivel Actual: ${currentLevel}</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${Math.min(wealthRatio * 4, 100)}%; background: ${levelColor};">
                            ${Math.round(wealthRatio * 4)}%
                        </div>
                    </div>
                    <p>${levelDescription}</p>
                    <p><strong>Ratio Riqueza/Gastos:</strong> ${wealthRatio.toFixed(1)}x</p>
                </div>
            `;
        }

        function displayFreedomMilestones(projection, freedomTarget) {
            const milestonesDiv = document.getElementById('freedomMilestones');
            
            const milestones = [
                { name: 'Primer $100K', target: 100000 },
                { name: 'Primer $500K', target: 500000 },
                { name: 'Primer Mill√≥n', target: 1000000 },
                { name: 'Libertad Financiera', target: freedomTarget }
            ];
            
            milestonesDiv.innerHTML = `
                <div style="margin: 20px 0;">
                    ${milestones.map(milestone => {
                        const achievementYear = projection.find(p => p.wealth >= milestone.target);
                        const yearsToAchieve = achievementYear ? achievementYear.year : 'No alcanzable';
                        const isAchievable = achievementYear !== undefined;
                        
                        return `
                            <div style="background: white; border: 2px solid ${isAchievable ? '#28a745' : '#dc3545'}; border-radius: 8px; padding: 15px; margin: 10px 0;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <h4>${milestone.name}</h4>
                                        <p>Meta: $${milestone.target.toLocaleString()}</p>
                                    </div>
                                    <div style="text-align: right;">
                                        <p><strong>A√±os para alcanzar:</strong> ${yearsToAchieve}</p>
                                        ${isAchievable ? '<p style="color: #28a745;">‚úÖ Alcanzable</p>' : '<p style="color: #dc3545;">‚ùå No alcanzable</p>'}
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        function displayFreedomActionPlan(projection, freedomTarget, annualExpenses) {
            const actionDiv = document.getElementById('freedomActionPlan');
            
            const currentWealth = projection[0].wealth;
            const wealthRatio = currentWealth / annualExpenses;
            
            let phase, actions, color;
            
            if (wealthRatio < 0) {
                phase = 'Fase 1: Estabilizaci√≥n';
                color = '#dc3545';
                actions = [
                    'Reducir gastos inmediatamente',
                    'Aumentar ingresos con trabajo adicional',
                    'Crear un presupuesto estricto',
                    'Eliminar gastos innecesarios'
                ];
            } else if (wealthRatio < 0.5) {
                phase = 'Fase 2: Construcci√≥n de Base';
                color = '#ffc107';
                actions = [
                    'Construir fondo de emergencia (3-6 meses)',
                    'Eliminar deudas de alto inter√©s',
                    'Automatizar ahorros',
                    'Mejorar habilidades para aumentar ingresos'
                ];
            } else if (wealthRatio < 2) {
                phase = 'Fase 3: Acumulaci√≥n';
                color = '#17a2b8';
                actions = [
                    'Maximizar contribuciones 401(k) e IRA',
                    'Invertir en portafolio diversificado',
                    'Eliminar todas las deudas',
                    'Considerar inversiones adicionales'
                ];
            } else if (wealthRatio < 25) {
                phase = 'Fase 4: Crecimiento Acelerado';
                color = '#007bff';
                actions = [
                    'Invertir agresivamente en mercados',
                    'Considerar bienes ra√≠ces',
                    'Diversificar internacionalmente',
                    'Optimizar estrategias fiscales'
                ];
            } else {
                phase = 'Fase 5: Mantenimiento';
                color = '#28a745';
                actions = [
                    'Proteger patrimonio existente',
                    'Considerar estrategias de preservaci√≥n',
                    'Planificar transferencia de riqueza',
                    'Disfrutar de la libertad financiera'
                ];
            }
            
            actionDiv.innerHTML = `
                <div style="margin: 20px 0;">
                    <h4 style="color: ${color};">${phase}</h4>
                    <div style="background: white; border: 2px solid ${color}; border-radius: 8px; padding: 20px; margin: 15px 0;">
                        <h5>Acciones Prioritarias:</h5>
                        <ul>
                            ${actions.map(action => `<li>${action}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div style="background: #e3f2fd; border: 2px solid #2196f3; border-radius: 8px; padding: 15px; margin: 15px 0;">
                        <h5>üìä Progreso hacia la Libertad</h5>
                        <p><strong>Patrimonio actual:</strong> $${currentWealth.toLocaleString()}</p>
                        <p><strong>Meta de libertad:</strong> $${freedomTarget.toLocaleString()}</p>
                        <p><strong>Progreso:</strong> ${Math.round((currentWealth / freedomTarget) * 100)}%</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${Math.min((currentWealth / freedomTarget) * 100, 100)}%;">
                                ${Math.round((currentWealth / freedomTarget) * 100)}%
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>
